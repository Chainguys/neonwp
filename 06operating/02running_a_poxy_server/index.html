<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-06operating/02running_a_poxy_server">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="search" type="application/opensearchdescription+xml" title="Neon Docs" href="/neonwp/opensearch.xml"><title data-rh="true">运行代理服务器 (Running a Proxy server) | Neon Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://github.com/neonwp/06operating/02running_a_poxy_server"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="运行代理服务器 (Running a Proxy server) | Neon Docs"><meta data-rh="true" name="description" content="This guide is for people who want to register with Neon EVM as a proxy operator for processing transactions on Solana. It is assumed these people have previous experience compiling Solana-based blockchain nodes or have worked as blockchain validators."><meta data-rh="true" property="og:description" content="This guide is for people who want to register with Neon EVM as a proxy operator for processing transactions on Solana. It is assumed these people have previous experience compiling Solana-based blockchain nodes or have worked as blockchain validators."><link data-rh="true" rel="icon" href="/neonwp/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/neonwp/06operating/02running_a_poxy_server"><link data-rh="true" rel="alternate" href="https://github.com/neonwp/06operating/02running_a_poxy_server" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/neonwp/06operating/02running_a_poxy_server" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://HLOV7S9W6B-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/neonwp/assets/css/styles.366033d9.css">
<link rel="preload" href="/neonwp/assets/js/runtime~main.b330dfd2.js" as="script">
<link rel="preload" href="/neonwp/assets/js/main.7785bafa.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/neonwp/"><div class="navbar__logo"><img src="/neonwp/img/neonnew_svg.svg" alt=" " class="themedImage_W2Cr themedImage--light_TfLj"><img src="/neonwp/img/neonnew_svg.svg" alt=" " class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Neon EVM技术文档中英双语对照版(Neon EVM Doc ENG-CHN)</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Chainguys" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/neonwp/">版权声明（Copyright Notice）</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/01About/01Introduction">关于(About)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/02Wallets/01settingup">钱包(Wallets)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/03Explorers/01neonscan">浏览器 (Explorers)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/04tokentransfer/01NeonPass Overview">代币传输 (Tokens Transferring)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/05Developing/01Getting Started">开发 (Developing)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/neonwp/06operating/01OR">运营 (Operating)</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/neonwp/06operating/01OR">运营方需求 (Operator Requirements)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/neonwp/06operating/02running_a_poxy_server">运行代理服务器 (Running a Proxy server)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/07gov/01Governance Overview">社区治理 (Governance)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/08env/01Solana Cluster">环境(Environment)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/09Architecture/01Neon EVM Architecture Overview">架构 (Architecture)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/10faq/01What is Neon">FAQ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/11wp/wp">Neon白皮书(Neon Whitepaper)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/12其他补充/01Transaction Value token">其他信息(additional information)</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_FykI"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_DTRl"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/neonwp/">🏠</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">运营 (Operating)</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">运行代理服务器 (Running a Proxy server)</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>运行代理服务器 (Running a Proxy server)</h1></header><p><em>This guide is for people who want to register with Neon EVM as a proxy operator for processing transactions on Solana. It is assumed these people have previous experience compiling Solana-based blockchain nodes or have worked as blockchain validators.</em></p><p><em>本指南适用于想要注册 Neon EVM 作为代理运营方，并在 Solana 处理交易的人。假定这些人以前有编译基于Solana 区块链节点的经验，或曾担任区块链验证者。</em></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="导言-introduction">导言 (Introduction)<a class="hash-link" href="#导言-introduction" title="Direct link to heading">​</a></h3><p>Ethereum users have the opportunity to run their smart contract-based applications on Solana via Neon EVM. Smart contracts generate transactions in accordance with the Ethereum rules and submit them to Neon EVM. Since the structures of Ethereum and Solana transactions differ from each other, Neon EVM contains special proxy servers that are responsible for converting and executing transactions in Solana. These servers are configured and maintained by Neon EVM proxy operators.</p><p>以太坊用户现在有机会通过 Neon EVM 在 Solana 上运行他们基于智能合约的应用程序。智能合约根据以太坊规则生成交易并提交给 Neon EVM。由于以太坊和 Solana 交易的结构彼此不同，Neon EVM 包含特殊的代理服务器，负责在 Solana 中转换和执行交易。这些服务器由 Neon EVM 代理运营方配置和维护。</p><p>This guide contains a list of the proxy operator’s duties, as well as instructions to ensure the successful operation of a proxy and the successful execution of transactions.</p><p>本说明包含代理运营方的职责清单，以及确保代理成功运营和交易成功执行的说明。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="代理运营方的职责duties-of-a-proxy-operator">代理运营方的职责(Duties of a Proxy Operator)<a class="hash-link" href="#代理运营方的职责duties-of-a-proxy-operator" title="Direct link to heading">​</a></h3><p>A proxy operator’s main task is to install software on a server to accept a transaction formed according to Ethereum rules, and to ensure its execution in Solana. This involves:</p><p>代理运营方的主要任务是在服务器上安装软件以接收根据以太坊规则形成的交易，并确保其在 Solana 中执行。这涉及：  </p><ul><li><p>Configuring a proxy server to perform the following operations:<br>
<!-- -->配置代理服务器来执行以下操作：</p><ul><li>Receiving requests over Web3 API protocol.<br>通过Web3 API协议接收请求。  </li><li>Shaping responses using Web3 API protocol.<br>使用 Web3 API 协议(编辑)塑造响应。  </li><li>Converting transactions to Solana format.<br>将交易转换为 Solana 格式。</li></ul></li><li><p>Connecting a proxy server to a Solana cluster RPC endpoint.<br>
<!-- -->将代理服务器连接到 Solana 集群 RPC 端点。</p></li><li><p>Successfully executing transactions.<br>
<!-- -->成功执行交易。</p></li></ul><blockquote><p>All operations related to the execution of transactions on Solana are performed by the software installed on your node.</p><p>在 Solana 上执行交易相关的操作,都由安装在您节点上的软件执行。</p></blockquote><h3 class="anchor anchorWithStickyNavbar_mojV" id="使用docker安装installation-using-docker">使用Docker安装(Installation Using Docker)<a class="hash-link" href="#使用docker安装installation-using-docker" title="Direct link to heading">​</a></h3><p>After you have chosen the node (Neon EVM proxy) that meets the listed recommendations, you can start installing a proxy operator software on it.</p><p>选择满足所列建议的节点(Neon EVM 代理)后，您可以开始在其上安装代理运营方软件。</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="运行守护进程run-a-daemon">运行守护进程(Run a daemon)<a class="hash-link" href="#运行守护进程run-a-daemon" title="Direct link to heading">​</a></h4><p>Make sure that you have a daemon running. If you see something like:<br>
<!-- -->确保守护进程已经运行。如果你看到:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">docker</span><span class="token plain"> info</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Cannot connect to the Docker daemon at </span><span class="token operator">&lt;</span><span class="token plain">docker.sock</span><span class="token operator">&gt;</span><span class="token plain">. Is the </span><span class="token function" style="color:rgb(80, 250, 123)">docker</span><span class="token plain"> daemon running?</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>you need to run the daemon and PostgreSQL services first:<br>
<!-- -->那你需要先运行守护进程和PostgreSQL：</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> systemctl start </span><span class="token function" style="color:rgb(80, 250, 123)">docker</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">docker</span><span class="token plain"> run --rm -ti --network</span><span class="token operator">=</span><span class="token plain">host -e </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">POSTGRES_HOST</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token plain">localhost</span><span class="token operator">|</span><span class="token plain">postgres</span><span class="token operator">&gt;</span><span class="token plain"> -e </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">POSTGRES_DB</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token plain">database</span><span class="token operator">&gt;</span><span class="token plain"> -e </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">POSTGRES_USER</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token plain">username</span><span class="token operator">&gt;</span><span class="token plain"> -e </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">POSTGRES_PASSWORD</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token plain">password</span><span class="token operator">&gt;</span><span class="token plain"> --name</span><span class="token operator">=</span><span class="token plain">postgres postgres:14.0</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><strong>The command line options:</strong>
命令行选项：</p><p><code>--rm —</code> delete a container when the command is completed.<br>
<code>--rm —</code> 命令完成后删除容器。</p><p><code>-ti —</code> allocate a pseudo-TTY connected to the container’s stdin; creating an interactive bash shell in the container.<br>
<code>-ti —</code> 分配一个连接到容器标准输入的伪 TTY；在容器中创建交互式 bash shell。</p><p><code>--network host —</code> use host network.<br>
<code>--network host —</code> 使用主机网络。</p><p><code>-e POSTGRES_HOST=&lt;localhost|postgres&gt; —</code> specifies DB hosting; <code>localhost</code> is set by default and is recommended; the parameter can be skipped if you use PostgreSQL hosted locally.<br>
<code>-e POSTGRES_HOST=&lt;localhost|postgres&gt; —</code>指定数据库托管； <code>localhost</code>推荐使用默认设置；如果您使用本地托管的 PostgreSQL，则可以跳过该参数。</p><p><code>-e POSTGRES_DB=&lt;database&gt; —</code> specifies the name of DB; <code>neon-db</code> is recommended.<br>
<code>-e POSTGRES_DB=&lt;database&gt; —</code> 指定数据库的名称；推荐使用 <code>neon-db</code>。</p><p><code>-e POSTGRES_USER=&lt;username&gt; —</code> specifies a username of DB; <code>neon-proxy</code> is recommended.<br>
<code>-e POSTGRES_USER=&lt;username&gt; —</code>指定数据库的用户名；推荐使用<code>neon-proxy</code></p><p><code>-e POSTGRES_PASSWORD=&lt;password&gt; —</code> specifies a username&#x27;s password; <code>neon-proxy-pass</code> is recommended.<br>
<code>-e POSTGRES_PASSWORD=&lt;password&gt; —</code> 指定用户名的密码；推荐使用 <code>neon-proxy-pass</code>。</p><p><code>--name=postgres —</code> specifies a version of PostgreSQL; <code>postgres:14.0</code> is recommended.<br>
<code>--name=postgres —</code> 指明PostgreSQL版本;推荐使用 <code>postgres:14.0</code> 。</p><p><em>Example</em>:<br>
<em>举例</em>：</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">docker</span><span class="token plain"> run --rm -ti --network</span><span class="token operator">=</span><span class="token plain">host -e </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">POSTGRES_DB</span><span class="token operator">=</span><span class="token plain">neon-db -e </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">POSTGRES_USER</span><span class="token operator">=</span><span class="token plain">neon-proxy -e </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">POSTGRES_PASSWORD</span><span class="token operator">=</span><span class="token plain">neon-proxy-pass --name</span><span class="token operator">=</span><span class="token plain">postgres postgres:14.0</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="在docker容器中开始运行代理start-a-proxy-in-a-docker-container">在Docker容器中开始运行代理(Start a proxy in a Docker container)<a class="hash-link" href="#在docker容器中开始运行代理start-a-proxy-in-a-docker-container" title="Direct link to heading">​</a></h4><p>Create and run a proxy container on the daemon. When starting Docker, you need to set the <em>CONFIG</em> environment variable, which can take one of the following values: local, devnet, testnet.</p><p>在守护进程上创建并运行代理容器。启动 Docker 时，需要设置 <em>CONFIG</em> 环境变量，可以采用以下值之一：local、devnet、testnet。</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">docker</span><span class="token plain"> run --rm -ti --network</span><span class="token operator">=</span><span class="token plain">host -e </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">CONFIG</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token plain">network</span><span class="token operator">&gt;</span><span class="token plain"> -e </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">POSTGRES_DB</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token plain">database</span><span class="token operator">&gt;</span><span class="token plain"> -e </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">POSTGRES_USER</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token plain">username</span><span class="token operator">&gt;</span><span class="token plain"> -e </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">POSTGRES_PASSWORD</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token plain">password</span><span class="token operator">&gt;</span><span class="token plain"> -v </span><span class="token operator">&lt;</span><span class="token plain">path-to-keypair-file/id.json</span><span class="token operator">&gt;</span><span class="token plain">:/root/.config/solana/id.json neonlabsorg/proxy:v0.5.1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>The command line options:</p><p><code>-e CONFIG=&lt;network&gt; —</code> specifies a Solana network configuration; <code>CONFIG=devnet</code> is recommended.<br>
<code>-e CONFIG=&lt;network&gt; —</code> 指定 Solana 网络配置；推荐使用 <code>CONFIG=devnet</code>。</p><p><code>-v &lt;path-to-keypair-file/id.json&gt;:/root/.config/solana/id.json —</code> specifies the path to the .JSON file where your keypair is stored and passes your private key to the container.<br>
<code>-v &lt;path-to-keypair-file/id.json&gt;:/root/.config/solana/id.json —</code> 指定存储密钥对的 .JSON 文件的路径，并将您的私钥传递给容器。</p><p><code>neonlabsorg/proxy:v0.5.1 —</code> the specific proxy image.<br>
<code>neonlabsorg/proxy:v0.5.1 —</code> 特定代理的镜像。</p><blockquote><p>The option <code>-v &lt;path-to-keypair-file&gt;</code> is only relevant for authorized operators. If you are not yet registered as an operator and are just about to become one, you do not need to specify this option.  </p><p>选项 <code>-v &lt;path-to-keypair-file&gt;</code> 仅与授权运营方相关。如果您尚未注册为运营方或者即将成为一名运营方，则无需指定此选项。</p></blockquote><p>This command line will automatically perform all the actions required to launch a Docker container and run a proxy.  </p><p>此命令行将自动执行启动 Docker 容器和运行代理所需的所有操作。</p><p><em>Example:<br>举例</em>：</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">docker</span><span class="token plain"> run --rm -ti --network</span><span class="token operator">=</span><span class="token plain">host -e </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">CONFIG</span><span class="token operator">=</span><span class="token plain">devnet -e </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">POSTGRES_DB</span><span class="token operator">=</span><span class="token plain">neon-db -e </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">POSTGRES_USER</span><span class="token operator">=</span><span class="token plain">neon-proxy -e </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">POSTGRES_PASSWORD</span><span class="token operator">=</span><span class="token plain">neon-proxy-pass neonlabsorg/proxy:v0.5.1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="config-的值config-values">CONFIG 的值(CONFIG values)<a class="hash-link" href="#config-的值config-values" title="Direct link to heading">​</a></h4><p>Each <code>CONFIG</code> value (devnet/testnet/local), by default, the corresponding variables are set:</p><p>每个<code>CONFIG</code>值(devnet/testnet/local)，都按默认值设置对应的变量：</p><ul><li><code>SOLANA_URL</code>  </li><li><code>NEON_CLI_TIMEOUT</code>  </li><li><code>CANCEL_TIMEOUT</code>  </li><li><code>POSTGRES_HOST</code>  </li><li><code>MINIMAL_GAS_PRICE</code>  </li><li><code>EVM_LOADER</code>  </li><li><code>NEON_TOKEN_MINT</code>  </li></ul><p>When you start Docker, you can override all these parameters by specifying different values for them on the command line. The table below shows default values for the following variables:</p><p>启动 Docker 时，您可以通过在命令行上为它们指定不同的值来覆盖所有参数。下表显示了以下变量的默认值：</p><table><thead><tr><th align="left">配置 CONFIG</th><th align="left">SOLANA_URL</th><th align="left">NEON_CLI_TIMEOUT</th><th align="left">CANCEL_TIMEOUT</th><th align="left">POSTGRES_HOST</th><th align="left">MINIMAL_GAS_PRICE</th></tr></thead><tbody><tr><td align="left">devnet</td><td align="left"><code>https://api.devnet.solana.com</code></td><td align="left">10 (s)</td><td align="left">60 (slot)</td><td align="left">localhost</td><td align="left">1</td></tr><tr><td align="left">testnet</td><td align="left"><code>https://api.testnet.solana.com</code></td><td align="left">15 (s)</td><td align="left">60 (slot)</td><td align="left">localhost</td><td align="left">1</td></tr><tr><td align="left">local</td><td align="left"><code>http://localhost:8899</code></td><td align="left">0.9 (s)</td><td align="left">10 (slot)</td><td align="left">localhost</td><td align="left">0</td></tr></tbody></table><p><strong>SOLANA_URL</strong></p><p>Specifies a Solana RPC endpoint that a proxy is connecting to. If you specify <code>CONFIG=local</code> and <code>SOLANA_URL=&lt;your node URL&gt;</code>, then requests of a proxy will be sent to your node.</p><p>指定代理连接到的 Solana RPC 端点。如果您指定 <code>CONFIG=local</code> 和 <code>SOLANA_URL=&lt;您的节点 URL&gt;</code>，则代理请求将发送到您的节点。</p><p><strong>NEON_CLI_TIMEOUT</strong></p><p>In Neon EVM, a transaction is run for emulation before execution to determine the accounts that will be involved in it. The <code>NEON_CLI_TIMEOUT</code> variable specifies the time (in seconds) required for a transaction to be executed.</p><p>在 Neon EVM 中，在执行之前会运行一笔模拟交易来确定交易会涉及哪些账户。<code>NEON_CLI_TIMEOUT</code> 变量指定执行交易所需的时间(以秒为单位)。</p><p>The emulation execution time is affected by the following factors:<br>
<!-- -->模拟执行的时间受到以下因素的影响：</p><ul><li><p>The geographical distance between a node and proxy.<br>
<!-- -->节点和代理之间的地理距离。</p></li><li><p>The load of the node due to processing requests at the moment.<br>
<!-- -->节点当前处理请求的负载。</p></li></ul><p>Setting the NEON_CLI_TIMEOUT time too short may not be sufficient to complete a transaction and pack it into a block. Therefore, NEON_CLI_TIMEOUT is set to the smallest value for CONFIG = local. Setting the NEON_CLI_TIMEOUT value too high may block other users from accessing this node.</p><p>将 <code>NEON_CLI_TIMEOUT</code> 时间设置得太短，可能会不足以完成交易并将其打包到一个块中。因此，<code>NEON_CLI_TIMEOUT</code> 设置为 <code>CONFIG = local</code> 的最小值。将 <code>NEON_CLI_TIMEOUT</code> 值设置得太高可能会阻止其他用户访问此节点。</p><p><strong>CANCEL_TIMEOUT</strong></p><p>This parameter limits the time (in <a href="/neonwp/01About/02Terminology#%E9%97%B4%E9%9A%94%E6%97%B6%E6%AE%B5slot">slots</a> for blocking an account. If the blocking time for the account exceeds the time specified in this parameter, an attempt will be made to cancel the transaction that blocked this account.</p><p>此参数限制封锁帐户的时间(以<a href="/neonwp/01About/02Terminology#%E9%97%B4%E9%9A%94%E6%97%B6%E6%AE%B5slot">slots</a>为单位)。如果账户的封锁时间超过了此参数中指定的时间，将尝试取消封锁该账户的交易。</p><p><strong>MINIMAL_GAS_PRICE</strong></p><p>This parameter sets the lowest possible gas price specified in a transaction.<br>
<!-- -->此参数设置交易中指定的最低gas价格。</p><p><strong>EVM_LOADER</strong></p><p><code>CONFIG</code> defaults the following values for the variable <code>EVM_LOADER</code>:<br>
<code>CONFIG</code> 变量的 <code>EVM_LOADER</code> 的默认值如下：</p><table><thead><tr><th>CONFIG</th><th>EVM_LOADER</th></tr></thead><tbody><tr><td>devnet</td><td>eeLSJgWzzxrqKv1UxtRVVH8FX3qCQWUs9QuAjJpETGU</td></tr><tr><td>testnet</td><td>eeLSJgWzzxrqKv1UxtRVVH8FX3qCQWUs9QuAjJpETGU</td></tr><tr><td>local</td><td>__</td></tr></tbody></table><p><strong>NEON_TOKEN_MINT</strong></p><p><code>CONFIG</code> defaults the following values for the variable :<br>
<code>CONFIG</code> 变量的 <code>NEON_TOKEN_MINT</code>的默认值如下：</p><table><thead><tr><th>CONFIG</th><th>NEON_TOKEN_MINT</th></tr></thead><tbody><tr><td>devnet</td><td>89dre8rZjLNft7HoupGiyxu3MNftR577ZYu8bHe2kK7g</td></tr><tr><td>testnet</td><td>89dre8rZjLNft7HoupGiyxu3MNftR577ZYu8bHe2kK7g</td></tr><tr><td>local</td><td>HPsV9Deocecw3GeZv1FkAPNCBRfuVyfw9MMwjwRe1xaU</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/06operating/02running_a_poxy_server.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/neonwp/06operating/01OR"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">运营方需求 (Operator Requirements)</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/neonwp/07gov/01Governance Overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">社区治理概要 (Governance Overview)</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#导言-introduction" class="table-of-contents__link toc-highlight">导言 (Introduction)</a></li><li><a href="#代理运营方的职责duties-of-a-proxy-operator" class="table-of-contents__link toc-highlight">代理运营方的职责(Duties of a Proxy Operator)</a></li><li><a href="#使用docker安装installation-using-docker" class="table-of-contents__link toc-highlight">使用Docker安装(Installation Using Docker)</a><ul><li><a href="#运行守护进程run-a-daemon" class="table-of-contents__link toc-highlight">运行守护进程(Run a daemon)</a></li><li><a href="#在docker容器中开始运行代理start-a-proxy-in-a-docker-container" class="table-of-contents__link toc-highlight">在Docker容器中开始运行代理(Start a proxy in a Docker container)</a></li><li><a href="#config-的值config-values" class="table-of-contents__link toc-highlight">CONFIG 的值(CONFIG values)</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/neonwp/">Doc list</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/Chainguys" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Chainguys" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/neonwp/assets/js/runtime~main.b330dfd2.js"></script>
<script src="/neonwp/assets/js/main.7785bafa.js"></script>
</body>
</html>
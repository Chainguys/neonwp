<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-09Architecture/04coreaspects/02Block">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<title data-rh="true">区块(Block) | Neon Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://github.com/neonwp/09Architecture/04coreaspects/02Block"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="区块(Block) | Neon Docs"><meta data-rh="true" name="description" content="This section describes a unique solution that allows Ethereum users to use the key features of Solana and vice versa."><meta data-rh="true" property="og:description" content="This section describes a unique solution that allows Ethereum users to use the key features of Solana and vice versa."><link data-rh="true" rel="icon" href="/neonwp/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/neonwp/09Architecture/04coreaspects/02Block"><link data-rh="true" rel="alternate" href="https://github.com/neonwp/09Architecture/04coreaspects/02Block" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/neonwp/09Architecture/04coreaspects/02Block" hreflang="x-default"><link rel="stylesheet" href="/neonwp/assets/css/styles.6c340478.css">
<link rel="preload" href="/neonwp/assets/js/runtime~main.7b4b23bb.js" as="script">
<link rel="preload" href="/neonwp/assets/js/main.0f58e92e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/neonwp/"><div class="navbar__logo"><img src="/neonwp/img/neonnew_svg.svg" alt=" " class="themedImage_W2Cr themedImage--light_TfLj"><img src="/neonwp/img/neonnew_svg.svg" alt=" " class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Neon EVM技术文档中英双语对照版(Neon EVM Doc ENG-CHN)</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Chainguys" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/neonwp/">版权声明（Copyright Notice）</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/01About/01Introduction">关于(About)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/02Wallets/01settingup">钱包(Wallets)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/03Explorers/01neonscan">浏览器 (Explorers)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/04tokentransfer/01NeonPass Overview">代币传输 (Tokens Transferring)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/05Developing/01Getting Started">开发 (Developing)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/06operating/01OR">运营 (Operating)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/07gov/01Governance Overview">社区治理 (Governance)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/08env/01Solana Cluster">环境(Environment)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/neonwp/09Architecture/01Neon EVM Architecture Overview">架构 (Architecture)</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/neonwp/09Architecture/01Neon EVM Architecture Overview">Neon EVM架构一览(Neon EVM Architecture Overview)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/neonwp/09Architecture/02Ethereum and 02Solana Capabilities in a single Solution">以太坊和 Solana 性能的统一解决方案 (Ethereum and Solana Capabilities in a single Solution)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/neonwp/09Architecture/03EVM compatibility">EVM兼容性 (EVM compatibility)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/neonwp/09Architecture/04coreaspects/01Ethereum account">核心方面 (Core Aspects)</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/neonwp/09Architecture/04coreaspects/01Ethereum account">以太坊账户 (Ethereum account)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/neonwp/09Architecture/04coreaspects/02Block">区块(Block)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/neonwp/09Architecture/04coreaspects/03gas">Gas</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/neonwp/09Architecture/04coreaspects/04Proof-of-Stake">权益证明(Proof-of-Stake)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/neonwp/09Architecture/04coreaspects/05Proof-of-Work">工作量证明(Proof-of-Work)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/neonwp/09Architecture/04coreaspects/06Ethereum transaction">以太坊交易(Ethereum transaction)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/neonwp/09Architecture/04coreaspects/07Web3 concept">Web3相关概念(Web3 concept)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/neonwp/09Architecture/05Architectural Limitations/01Restriction on Iterative Transactions">架构的限制 (Architectural Limitations)</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/10faq/01What is Neon">FAQ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/11wp/wp">Neon白皮书(Neon Whitepaper)</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_FykI"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_DTRl"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/neonwp/">🏠</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">架构 (Architecture)</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">核心方面 (Core Aspects)</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">区块(Block)</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>区块(Block)</h1></header><p><em>This section describes a unique solution that allows Ethereum users to use the key features of Solana and vice versa.</em></p><p>本节描述了一个独特的，允许以太坊用户使用 Solana 关键功能的解决方案，反之亦然。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="术语-terminology">术语 (Terminology)<a class="hash-link" href="#术语-terminology" title="Direct link to heading">​</a></h3><ul><li><p><code>BPF</code> - the Berkeley Packet Filter virtual machine<br>
<code>BPF</code> - 伯克利包过滤器虚拟机</p></li><li><p><code>Contract</code> - smart contract<br>
<code>合约</code> – 智能合约</p></li><li><p><code>dApp</code> - a decentralized application.(Plural: dApps)<br>
<code>dApp</code> -去中心化应用</p></li><li><p><code>N-trx</code> - a neon transaction formed according to the Ethereum network, and executed inside  Neon EVM
<code>N交易</code> - 根据以太坊网络形成的Neon交易，并在Neon EVM内部执行</p></li><li><p><code>EVM</code> - the Ethereum Virtual Machine<br>
<code>EVM</code> - 以太坊虚拟机</p></li><li><p><code>Proxy</code> - Neon Web3 Proxy<br>
<code>代理</code> – Neon Web3代理</p></li><li><p><code>S-trx</code> - a transaction formed according to the rules of the Solana network<br>
<code>S交易</code>- 根据Solana网络形成的交易</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="以太坊的核心性能-key-capabilities-of-ethereum">以太坊的核心性能 (Key Capabilities of Ethereum)<a class="hash-link" href="#以太坊的核心性能-key-capabilities-of-ethereum" title="Direct link to heading">​</a></h3><p>Ethereum’s core innovation, EVM, is a Turing-complete software that runs on the Ethereum network. EVM allows developers to build and deploy dApps, which makes the process of creating blockchain applications much easier and more efficient. Contracts are treated as autonomous scripts or stateful dApps that are stored in the Ethereum blockchain for execution by the EVM at a later stage.</p><p>以太坊的核心创新—EVM—是运行在以太坊上的图灵完备软件。EVM 允许开发人员构建和部署 dApps，使得创建区块链应用的过程更加容易和高效。合约被视为自治脚本或有状态的 dApps，它们存储在以太坊区块链中，供 EVM 在稍后阶段执行。</p><p>Ethereum has a large number of developer tools available in its ecosystem, including MetaMask, Remix, and Truffle. The toolkit allows users to write dApps in Solidity, which is the standard language for developing contracts.</p><p>以太坊生态系统中有大量可用的开发者工具，包括 MetaMask、Remix 和 Truffle。该工具包允许用户使用 Solidity 编写 dApps，Solidity 是开发合约的标准语言。</p><p>Ethereum is the flagship of the crypto world. It runs numerous distributed applications that have proven themselves in the market and are in demand all over the world.</p><p>以太坊是加密世界的旗舰。它运行许多已经在市场上证明了其(商业价值)并且在世界范围内都有需求的分布式应用程序。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="solana的核心性能-key-capabilities-of-solana">Solana的核心性能 (Key Capabilities of Solana)<a class="hash-link" href="#solana的核心性能-key-capabilities-of-solana" title="Direct link to heading">​</a></h3><p>Solana is an exceptionally fast, secure, and relatively inexpensive blockchain network.</p><p>Solana是一个非常快速、安全且相对低成本的区块链网络。</p><p>The Solana blockchain provides:<br>
<!-- -->Solana区块链提供：</p><ul><li><p>High performance, including:<br>
<!-- -->高性能，包括：</p><ul><li>Short block processing time.<br>区块处理时间短</li><li>Processing many transactions per second due to the ability to execute transactions in parallel.<br>因为可以并行执行交易，所以每秒可以处理多笔交易</li></ul></li><li><p>Low transaction fees.<br>
<!-- -->低转账费用</p></li><li><p>The ability to increase the number of nodes in the network without reducing the performance of the network as a whole.<br>
<!-- -->节点增加而不降低网络整体性能</p></li><li><p>The capability to build in coding languages C, C++, and Rust.
可以使用C, C++和Rust开发</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="目标the-goal">目标(The Goal)<a class="hash-link" href="#目标the-goal" title="Direct link to heading">​</a></h3><p>To find a solution that combined the best of both Ethereum and Solana. This solution would allow:</p><p>找到一个将以太坊和 Solana 优点结合的解决方案。该解决方案将允许：</p><ul><li><p>Solana users to use unique Ethereum toolkits to write dApps in Solidity.<br>
<!-- -->Solana 用户可以使用独特的以太坊工具包在 Solidity 中编写 dApp。</p></li><li><p>Ethereum dApps to be deployed on Solana, thereby attracting a huge audience of Ethereum users to the Solana blockchain.<br>
<!-- -->以太坊 dApps 将部署在 Solana 上，从而将大量以太坊用户吸引到 Solana 区块链。</p></li><li><p>Ethereum users to significantly increase the speed of transactions and reduce the fee charged for their execution by using Solana.<br>
<!-- -->以太坊用户使用 Solana (可以)显着提高交易速度并降低执行费用。</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="提出的方案the-proposed-solution">提出的方案(The Proposed Solution)<a class="hash-link" href="#提出的方案the-proposed-solution" title="Direct link to heading">​</a></h3><p>To achieve the goal, the following solution was proposed and implemented by the NeonLabs development team:</p><p>为了实现这一目标，Neon Labs 开发团队提出并实施了以下解决方案：</p><ul><li>Then EVM was integrated in Solana and named Neon EVM: an emulator implemented using Rust.<br>EVM 集成在 Solana 中并取名为 Neon EVM：一个使用 Rust 实现的模拟器。</li></ul><ul><li><p>Neon EVM operates inside Solana providing parallel transaction processing and a low transaction fee.<br>
<!-- -->Neon EVM 在 Solana 内部运行，提供并行交易处理和低交易费用。</p></li><li><p>The Neon Web3 Proxy was created to mediate interactions between the Ethereum user (account) and Neon EVM. The main function of the proxy is to provide an API for external clients.<br>
<!-- -->创建Neon Web3 代理是为了调解以太坊用户(帐户)和 Neon EVM 之间的交互。代理的主要功能是为外部客户端提供 API。</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="解决方案详情the-solution-in-detail">解决方案详情(The Solution in Detail)<a class="hash-link" href="#解决方案详情the-solution-in-detail" title="Direct link to heading">​</a></h3><p>The block diagram of the solution is shown in Fig. 1.<br>
<!-- -->该解决方案的如图1所示。</p><p>![<!-- -->[Pasted image 20220420101455.png]<!-- -->]  </p><p>(图 1)</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="伯克利包过滤器-berkeley-packet-filter-bpf">伯克利包过滤器 (Berkeley Packet Filter ,BPF)<a class="hash-link" href="#伯克利包过滤器-berkeley-packet-filter-bpf" title="Direct link to heading">​</a></h4><p>The BPF virtual machine is installed in Solana, allowing developers to embed other virtual machines inside Solana.</p><p>BPF 虚拟机安装在 Solana 中，允许开发人员在 Solana 中嵌入其他虚拟机。</p><p>Using BPF capabilities, a contract called Neon EVM is created in Solana, and the EVM was loaded inside it.</p><p>使用BPF，一个名为 Neon EVM 的合约就在 Solana 中被创建了，EVM也被加载到其中。</p><p>Because Solana has a contract update mechanism, the Neon EVM contract can also be updated independently from updates to the Solana node itself. This allows developers to update EVM versions without updating all the blockchain nodes.</p><p>因为 Solana 有合约更新机制，Neon EVM 合约也可以独立于 Solana 节点进行更新。这使得开发人员可以不更新所有区块链节点(也可以)更新 EVM 版本。</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="neon-web3代理--neon-web3-proxy">Neon Web3代理  (Neon Web3 Proxy)<a class="hash-link" href="#neon-web3代理--neon-web3-proxy" title="Direct link to heading">​</a></h4><p>A user can form transactions under an Ethereum account and sign them with a public key generated in Ethereum. Transactions formed according to Ethereum rules are sent to the input of the Proxy component. This component converts N-trxes into transactions under Solana rules.</p><p>用户可以在以太坊帐户下形成交易，并使用在以太坊中生成的公钥对其进行签名。以太坊规则下形成的交易被发送到代理组件的输入(端)。该组件将N交易转换为 Solana 规则下的交易。</p><p>The size of N-trx can exceed that of S-trx. Also, the amount of resources that a S-trx can spend is limited. Converting a transaction in a one-to-one format is difficult due to the potential lack of resources. Therefore, it was decided to generate multiple S-trxes for one N-trx. Each transaction generated is signed with a proxy key. The proxy sends the generated batch of transactions to Solana.</p><p>N交易的大小可以超过S交易。此外，S交易可以花费的资源数量是有限的。由于可能缺乏资源，因此很难用一对一的形式转换交易。故此就决定为一个N交易生成多个S交易。生成的每笔交易都使用代理密钥进行签名。代理将生成的一批交易发送至 Solana。</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="web3-api">Web3 API<a class="hash-link" href="#web3-api" title="Direct link to heading">​</a></h4><p>The proxy provides the full Web3 API to interact with external clients. In Ethereum, some contracts work at the blockchain level, and there is also an API that is supported by an Ethereum node. Clients that are created for Ethereum contracts support standard interfaces. For a client (such as MetaMask or Remix) to work in a web browser, it must work via the Web3 API. With Neon EVM, Ethereum dApps can be deployed on Solana without any edits to the source code or recompilation: dApps look and function exactly the same.</p><p>代理提供完整的 Web3 API 来与外部客户端交互。在以太坊中，一些合约在区块链层面工作，也有一个由以太坊节点支持的 API。为以太坊合约创建的客户端支持标准接口。要让客户端(例如 MetaMask 或 Remix)在 Web 浏览器中工作，它必须通过 Web3 API 进行。借助 Neon EVM，可以在 Solana 上部署以太坊 dApps，无需对源代码进行任何编辑或重新编译：dApps的外观和功能完全相同。</p><p>Clients will work on a different blockchain if they are provided the same interface. You can do this by changing the address for where these clients need to go. Ethereum contracts and clients do not need to be rewritten to work in Solana; you just need to register the proxy address. Any client can run a proxy to deploy a contract inside Solana. The interface that the clients interact with will be the same as for dApps running on Ethereum.</p><p>如果给客户端提供统一的接口，它们就可以在不同的链上工作/运行。您可以通过更改这些客户端需要去的地址来达成。以太坊合约和客户端无需重写即可在 Solana 中工作；您只需要注册代理地址。任何客户端都可以运行代理去 Solana 中部署合约。客户端与之交互的界面将与在以太坊上运行的 dApps 相同。</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="neon-evm">Neon EVM<a class="hash-link" href="#neon-evm" title="Direct link to heading">​</a></h4><p>Neon EVM runs inside BPF, which is run by Solana. Neon EVM is a Solana contract, so it recognizes the transaction format from the received batch. Neon EVM extracts data from each transaction, and therefore it can retrieve all the original user information that was placed in the transaction.</p><p>Neon EVM 运行在在 Solana 支持的 BPF 内部。Neon EVM 是一个 Solana 合约，因此它可以从收到的批次(批处理文件)中识别交易格式。Neon EVM 从每笔交易中提取数据，因此它可以检索内置在交易中的所有原始用户信息。</p><p>Neon EVM also validates the signature that is in the transaction. If the signature is authentic, Neon EVM takes the contract code that the transaction is addressed to and starts to execute it. As soon as the contract code has been executed successfully, Neon EVM records a new state.</p><p>Neon EVM 还验证交易中的签名。如果签名是真实(有效)的，Neon EVM 将获取交易相关的合约代码并开始执行。一旦合约代码成功执行，Neon EVM 就会记录一个新状态。</p><p>For example, if the transaction is a token transfer, the contract code sends tokens from one account to another. Neon EVM simply records this new state.</p><p>例如，如果交易是代币转移，合约代码会将代币从一个账户发送到另一个账户。Neon EVM 只是简单地记录这个新状态。</p><p>The user can also form a transaction to load a contract inside Neon EVM. In this case, the contract code will be written for Ethereum. A bytecode of this contract code will be loaded inside Neon EVM. The contract itself and its data will be stored inside Solana.</p><p>用户还可以发起交易，在Neon EVM中加载合约。在这种情况下，将参照以太坊规则编写合约代码。该合约代码的字节码会加载到 Neon EVM 中。合约本身及其数据将存储在 Solana 中。</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="账户数据存储-account-data-storage">账户数据存储 (Account Data Storage)<a class="hash-link" href="#账户数据存储-account-data-storage" title="Direct link to heading">​</a></h4><p>Solana stores account data. Neon EVM has access to this storage, and uses the account data. After an account is registered in Solana, the account data is placed in this storage. Ethereum accounts are also stored here, but in the Solana representation. For each Ethereum address there is a corresponding account in the Solana representation. A contract code is placed in a corresponding account of this storage.</p><p>Solana 存储帐户数据。Neon EVM 可以访问此存储，并使用帐户数据。帐户在 Solana 中注册后，其数据将放置在此存储中。以太坊账户也存储在这里，但以 Solana 的形式。对于每个以太坊地址，在 Solana 表示中都有一个对应的帐户。一个合约代码被放置在这个存储对应的账户中。</p><p>Neon EVM interacts with a set of data that is stored on Solana&#x27;s accounts. Neon EVM can take a contract code from there using the corresponding account address to validate a transaction. Neon EVM contains a virtual machine inside it that runs according to Ethereum rules.</p><p>Neon EVM 与存储在 Solana 帐户中的一组数据进行交互。Neon EVM 可以使用相应的账户地址从那里获取合约代码来验证交易。Neon EVM 内部包含一个根据以太坊规则运行的虚拟机。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="neon如何工作-how-neon-works">Neon如何工作? (How Neon Works)<a class="hash-link" href="#neon如何工作-how-neon-works" title="Direct link to heading">​</a></h3><p>A user calls a client that generates a transaction and sends it to the proxy, which is running the Neon EVM emulator inside it. (Fig. 2). The transaction is formed in accordance with the Ethereum rules, and contains mandatory fields, including:</p><p>用户调用客户端生成交易并发送到代理，代理在其中运行 Neon EVM 模拟器(图 2)。交易按照以太坊规则生成，包含必填字段，包括：</p><ul><li><p><strong>Nonce:</strong> the number of transactions sent from the current address.<br>
<strong>(密码学)随机数：</strong>用来表示从当前地址发送的交易数量。</p></li><li><p><strong>Signature:</strong> generated in accordance with the Ethereum rules.<br>
<strong>签名</strong>：按照以太坊规则生成。</p></li><li><p><strong>Gas price:</strong> fee the sender pays per unit of gas.<br>
<strong>Gas</strong> 价格：发送方每单位Gas支付的费用。</p></li><li><p><strong>Gas limit:</strong> maximum amount of gas units that can be consumed by the transaction.<br>
<strong>Gas上限</strong>：每笔交易可以消耗的最大gas单位数量。</p></li><li><p><strong>Value:</strong> amount of coins to transfer from sender to a recipient.<br>
<strong>价值</strong>：从发送者转移到接收者的代币数量。</p></li><li><p><strong>Recipient:</strong> address of the recipient.<br>
<strong>接收人</strong>：接收人地址。</p></li></ul><p>![<!-- -->[Pasted image 20220420101739.png]<!-- -->]  </p><p>(图 2)</p><p>To perform this transaction, the Neon EVM emulator makes a request to Solana to get state data. The proxy requests a blockchain state from Solana and makes a test launch of N-trx using the Solana state. On the basis of the data received, Proxy forms the new transaction according to Solana&#x27;s rules. The transaction generated for Solana will contain the packaged N-trx, as well as the account data required to complete the transaction, including:</p><p>为了执行这笔交易，Neon EVM 模拟器向 Solana 发出请求以获取状态数据。代理从 Solana 请求区块链状态，并使用 Solana 状态测试启动N交易。根据收到的数据，代理根据 Solana 规则生成新的交易。为 Solana 生成的交易将包含打包好的N交易，以及完成交易所需的账户数据，包括：</p><ul><li><p>The Payer. (The account that pays for the transaction.)<br>
<!-- -->付款人(交易的付款账户)。</p></li><li><p>Other accounts involved in the execution of this transaction.<br>
<!-- -->其他参与本次交易执行的账户。</p></li></ul><p>Next, the transaction is forwarded inside Solana, where participants of the transaction are determined according to the account data. The data added includes details about people who initiate and take part in processing the transaction. The operator of the proxy is specified as the payer. The payer will be rewarded for completing the transaction.</p><p>接下来，交易在 Solana 内部转发，根据账户数据确定交易的参与者。添加的数据包括有关发起和参与处理交易的各方的详细信息。代理的运营方被指定为付款人。付款人会因完成交易而获得奖励。</p><p>Next, the transaction is transferred to Neon EVM, where its signature is checked according to Ethereum rules. If the signature is valid, the transaction will be transferred to the Solana blockchain for execution. Since testing of N-trx is carried out, it is possible to provide Solana with all the necessary information to run the execution of the N-trx in parallel.</p><p>接下来，交易被转移到 Neon EVM，根据以太坊规则检查其签名。如果签名有效，交易将被转移到 Solana 区块链上执行。由于执行了N交易的测试，为 Solana 提供并行执行N交易所需要的全部必要信息就变得可能了。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="neon方案所带来的好处the-neon-solution-offers-the-following-benefits">Neon方案所带来的好处(The Neon solution offers the following benefits)<a class="hash-link" href="#neon方案所带来的好处the-neon-solution-offers-the-following-benefits" title="Direct link to heading">​</a></h3><p>Neon&#x27;s solution offers the following benefits:<br>
<!-- -->Neon方案有以下优势：</p><ul><li><p>No changes or additional resources are required to implement dApps on Solana.<br>
<!-- -->在 Solana 上部署 dApps 不需要任何更改或额外资源。</p></li><li><p>No need to rewrite clients for all existing dApps, since the Ethereum node interface remains unchanged, and therefore clients can run on the Solana node without changes also.<br>
<!-- -->无需为目前所有的(以太坊) dApps 重写客户端，因为以太坊节点接口保持不变，因此客户端也可以在 Solana 节点上运行而无需更改。</p></li><li><p>No need to rewrite contracts for existing dApps.<br>
<!-- -->无需为现有 dApp 重写合约。</p></li><li><p>Solana developers are given the opportunity to:<br>
<!-- -->Solana 开发人员有机会:    </p><ul><li>Use a unique toolkit created for Ethereum.<br>使用为以太坊创建的独特工具包。</li><li>Create and deploy their contracts on the Solana network.<br>在 Solana 网络上创建和部署合约。</li></ul></li><li><p>Unlike Ethereum, Neon EVM can be updated at any time, which means that new functionality can be added at any time and code updates can take place simply by uploading them as a new smart contract.<br>
<!-- -->与以太坊不同，Neon EVM 可以随时更新，意味着可以随时添加新功能，并且只需将其作为新智能合约上传就可以更新。</p></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/09Architecture/04coreaspects/02Block.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/neonwp/09Architecture/04coreaspects/01Ethereum account"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">以太坊账户 (Ethereum account)</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/neonwp/09Architecture/04coreaspects/03gas"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Gas</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#术语-terminology" class="table-of-contents__link toc-highlight">术语 (Terminology)</a></li><li><a href="#以太坊的核心性能-key-capabilities-of-ethereum" class="table-of-contents__link toc-highlight">以太坊的核心性能 (Key Capabilities of Ethereum)</a></li><li><a href="#solana的核心性能-key-capabilities-of-solana" class="table-of-contents__link toc-highlight">Solana的核心性能 (Key Capabilities of Solana)</a></li><li><a href="#目标the-goal" class="table-of-contents__link toc-highlight">目标(The Goal)</a></li><li><a href="#提出的方案the-proposed-solution" class="table-of-contents__link toc-highlight">提出的方案(The Proposed Solution)</a></li><li><a href="#解决方案详情the-solution-in-detail" class="table-of-contents__link toc-highlight">解决方案详情(The Solution in Detail)</a><ul><li><a href="#伯克利包过滤器-berkeley-packet-filter-bpf" class="table-of-contents__link toc-highlight">伯克利包过滤器 (Berkeley Packet Filter ,BPF)</a></li><li><a href="#neon-web3代理--neon-web3-proxy" class="table-of-contents__link toc-highlight">Neon Web3代理  (Neon Web3 Proxy)</a></li><li><a href="#web3-api" class="table-of-contents__link toc-highlight">Web3 API</a></li><li><a href="#neon-evm" class="table-of-contents__link toc-highlight">Neon EVM</a></li><li><a href="#账户数据存储-account-data-storage" class="table-of-contents__link toc-highlight">账户数据存储 (Account Data Storage)</a></li></ul></li><li><a href="#neon如何工作-how-neon-works" class="table-of-contents__link toc-highlight">Neon如何工作? (How Neon Works)</a></li><li><a href="#neon方案所带来的好处the-neon-solution-offers-the-following-benefits" class="table-of-contents__link toc-highlight">Neon方案所带来的好处(The Neon solution offers the following benefits)</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/neonwp/">Doc list</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/Chainguys" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Chainguys" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/neonwp/assets/js/runtime~main.7b4b23bb.js"></script>
<script src="/neonwp/assets/js/main.0f58e92e.js"></script>
</body>
</html>
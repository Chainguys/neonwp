"use strict";(self.webpackChunkneonwp=self.webpackChunkneonwp||[]).push([[882],{3905:function(e,t,n){n.d(t,{Zo:function(){return l},kt:function(){return f}});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},l=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),h=u(n),f=i,m=h["".concat(s,".").concat(f)]||h[f]||p[f]||o;return n?r.createElement(m,a(a({ref:t},l),{},{components:n})):r.createElement(m,a({ref:t},l))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,a=new Array(o);a[0]=h;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:i,a[1]=c;for(var u=2;u<o;u++)a[u]=n[u];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},9533:function(e,t,n){n.r(t),n.d(t,{assets:function(){return l},contentTitle:function(){return s},default:function(){return f},frontMatter:function(){return c},metadata:function(){return u},toc:function(){return p}});var r=n(7462),i=n(3366),o=(n(7294),n(3905)),a=["components"],c={sidebar_position:1,title:"\u8fed\u4ee3\u4ea4\u6613\u7684\u9650\u5236(Restriction on Iterative Transactions)"},s=void 0,u={unversionedId:"09Architecture/05Architectural Limitations/01Restriction on Iterative Transactions",id:"09Architecture/05Architectural Limitations/01Restriction on Iterative Transactions",title:"\u8fed\u4ee3\u4ea4\u6613\u7684\u9650\u5236(Restriction on Iterative Transactions)",description:"Executing a transaction in iterative mode is a sequence of actions, each of which is performed by a separate account specified in it. The list of accounts is specified by the creator of the transaction.",source:"@site/docs/09Architecture/05Architectural Limitations/01Restriction on Iterative Transactions.md",sourceDirName:"09Architecture/05Architectural Limitations",slug:"/09Architecture/05Architectural Limitations/01Restriction on Iterative Transactions",permalink:"/neonwp/09Architecture/05Architectural Limitations/01Restriction on Iterative Transactions",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/09Architecture/05Architectural Limitations/01Restriction on Iterative Transactions.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"\u8fed\u4ee3\u4ea4\u6613\u7684\u9650\u5236(Restriction on Iterative Transactions)"},sidebar:"tutorialSidebar",previous:{title:"Web3\u76f8\u5173\u6982\u5ff5(Web3 concept)",permalink:"/neonwp/09Architecture/04coreaspects/07Web3 concept"},next:{title:"Neon EVM\u4e0a\u4e0d\u652f\u6301\u7684\u4ee3\u5e01(Unsupported Tokens in Neon EVM)",permalink:"/neonwp/09Architecture/05Architectural Limitations/02Unsupported Tokens in Neon EVM"}},l={},p=[{value:"\u95ee\u9898\u63cf\u8ff0(Description of the problem)",id:"\u95ee\u9898\u63cf\u8ff0description-of-the-problem",level:4},{value:"\u7ec6\u8282(Details)",id:"\u7ec6\u8282details",level:4},{value:"\u89e3\u51b3\u65b9\u6848(Solution)",id:"\u89e3\u51b3\u65b9\u6848solution",level:4}],h={toc:p};function f(e){var t=e.components,n=(0,i.Z)(e,a);return(0,o.kt)("wrapper",(0,r.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Executing a transaction in iterative mode is a sequence of actions, each of which is performed by a separate account specified in it. The list of accounts is specified by the creator of the transaction."),(0,o.kt)("p",null,"\u7528\u8fed\u4ee3\u6a21\u5f0f\u6267\u884c\u4ea4\u6613\u5305\u542b\u4e00\u7cfb\u5217\u64cd\u4f5c\uff0c\u6bcf\u4e2a\u64cd\u4f5c\u90fd\u7531\u5176\u4e2d\u6307\u5b9a\u7684\u5355\u72ec\u5e10\u6237\u6267\u884c\u3002\u8d26\u6237\u5217\u8868\u7531\u4ea4\u6613\u7684\u521b\u5efa\u8005\u6307\u5b9a\u3002"),(0,o.kt)("h4",{id:"\u95ee\u9898\u63cf\u8ff0description-of-the-problem"},"\u95ee\u9898\u63cf\u8ff0(Description of the problem)"),(0,o.kt)("p",null,"When executing a transaction in iterative mode via Neon EVM, a user may receive the error with a message about a blocked account. In this case, further execution of the transaction is terminated. This can happen despite the fact that the execution of the same transaction on Ethereum completes successfully. This fact confuses the user even more, since they are sure of the correctness of the transaction they has created."),(0,o.kt)("p",null,"\u5f53\u901a\u8fc7 Neon EVM \u7528\u8fed\u4ee3\u6a21\u5f0f\u6267\u884c\u4ea4\u6613\u65f6\uff0c\u7528\u6237\u53ef\u80fd\u4f1a\u6536\u5230\u8d26\u6237\u88ab\u5c01\u9501\u7684\u6d88\u606f\u63d0\u793a\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4ea4\u6613\u7684\u8fdb\u4e00\u6b65\u6267\u884c\u88ab\u7ec8\u6b62\u3002\u5c3d\u7ba1\u5728\u4ee5\u592a\u574a\u4e0a\u6267\u884c\u76f8\u540c\u7684\u4ea4\u6613\u6210\u529f\u5b8c\u6210\uff0c\u4f46\u4ecd\u53ef\u80fd\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\u3002\u8fd9\u4e2a\u4e8b\u5b9e\u8ba9\u7528\u6237\u66f4\u52a0\u56f0\u60d1\uff0c\u56e0\u4e3a\u4ed6\u4eec\u786e\u4fe1\u4ed6\u4eec\u521b\u5efa\u7684\u4ea4\u6613\u7684\u6b63\u786e\u6027\u3002"),(0,o.kt)("h4",{id:"\u7ec6\u8282details"},"\u7ec6\u8282(Details)"),(0,o.kt)("p",null,"The error is not typical for Ethereum and only appears in Neon EVM. The reason for the error with the message about blocked accounts lies in the processing of iterative transactions in Neon EVM."),(0,o.kt)("p",null,"\u8be5\u9519\u8bef\u4e0d\u662f\u4ee5\u592a\u574a\u7684\u5178\u578b\u9519\u8bef\uff0c\u4ec5\u51fa\u73b0\u5728 Neon EVM \u4e2d\u3002\u5173\u4e8e\u88ab\u5c01\u9501\u5e10\u6237\u7684\u6d88\u606f\u63d0\u793a\u7684\u539f\u56e0\u5728\u4e8e Neon EVM \u4e2d\u8fed\u4ee3\u4ea4\u6613\u7684\u5904\u7406\u3002"),(0,o.kt)("p",null,"Processing an iterative transaction in Neon EVM:"),(0,o.kt)("p",null,"\u5728 Neon EVM \u4e2d\u5904\u7406\u8fed\u4ee3\u4ea4\u6613\uff1a"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Neon EVM receives the transaction for iterative execution and first marks the accounts specified in it for blocking.",(0,o.kt)("br",{parentName:"p"}),"\n","Neon EVM \u63a5\u6536\u5230\u4ea4\u6613\u8fdb\u884c\u8fed\u4ee3\u6267\u884c\uff0c\u9996\u5148\u5c06\u5176\u4e2d\u6307\u5b9a\u7684\u8d26\u6237\u6807\u8bb0\u4e3a\u5c01\u9501\u3002")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"When the next transaction enters Neon EVM, the list of accounts specified in it and involved in its execution is viewed. If at this moment any listed account is in a blocked state for iterative execution in another transaction, Neon EVM returns the error.",(0,o.kt)("br",{parentName:"p"}),"\n","\u4e0b\u4e00\u7b14\u4ea4\u6613\u8fdb\u5165 Neon EVM \u65f6\uff0c\u4f1a\u67e5\u770b\u5176\u4e2d\u6307\u5b9a\u5e76\u53c2\u4e0e\u5176\u6267\u884c\u8d26\u6237\u7684\u5217\u8868\u3002\u5982\u679c\u6b64\u65f6\u4efb\u4f55\u5217\u51fa\u7684\u5e10\u6237\u56e0\u5728\u53e6\u4e00\u4e2a\u4ea4\u6613\u4e2d\u8fed\u4ee3\u6267\u884c\u800c\u5904\u4e8e\u5c01\u9501\u72b6\u6001\uff0cNeon EVM \u5c06\u8fd4\u56de\u9519\u8bef\u3002")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"The first transaction that blocked accounts will unblock them only when it is completed.",(0,o.kt)("br",{parentName:"p"}),"\n","\u7b2c\u4e00\u7b14\u88ab\u5c01\u9501\u8d26\u6237\u7684\u4ea4\u6613\u53ea\u6709\u5728\u5b8c\u6210\u540e\u624d\u4f1a\u89e3\u9664\u5c01\u9501\u3002"))),(0,o.kt)("p",null,"The point of this implementation for Mainnet is to have a consistent state for Solana accounts during the execution of the transaction until it completes. Since the transaction is executed in iterative mode, there are time intervals between the steps being executed. Therefore, such a solution excludes the possibility of changing the data of Solana\u2019s accounts located in system state during these intervals."),(0,o.kt)("p",null,"\u5728\u4e3b\u7f51\u5b9e\u65bd\u8fd9\u4e2a\u64cd\u4f5c\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u5728\u4ea4\u6613\u6267\u884c\u5230\u7ed3\u675f\u671f\u95f4\u7ef4\u62a4Solana \u8d26\u6237\u7684(\u4e00\u81f4)\u72b6\u6001\u3002\u7531\u4e8e\u4ea4\u6613\u4ee5\u8fed\u4ee3\u6a21\u5f0f\u6267\u884c\uff0c\u56e0\u6b64\u6267\u884c\u7684\u6b65\u9aa4\u4e4b\u95f4\u5b58\u5728\u65f6\u95f4\u95f4\u9694\u3002\u56e0\u6b64\uff0c\u8fd9\u6837\u7684\u89e3\u51b3\u65b9\u6848\u6392\u9664\u4e86\u5728\u95f4\u9694\u671f\u95f4\u66f4\u6539\u5728\u7cfb\u7edf\u72b6\u6001\u7684 Solana \u5e10\u6237\u6570\u636e\u7684\u53ef\u80fd\u3002"),(0,o.kt)("h4",{id:"\u89e3\u51b3\u65b9\u6848solution"},"\u89e3\u51b3\u65b9\u6848(Solution)"),(0,o.kt)("p",null,"Issuing the error about blocked accounts when starting a transaction is a temporary solution (workaround). The final decision will be made after MVP on Mainnet."),(0,o.kt)("p",null,"\u5728\u5f00\u59cb\u4ea4\u6613\u65f6\u53d1\u51fa\u6709\u5173\u88ab\u5c01\u9501\u5e10\u6237\u7684\u63d0\u793a\u662f\u4e00\u79cd\u4e34\u65f6\u89e3\u51b3\u65b9\u6848(\u89e3\u51b3\u65b9\u6cd5)\u3002\u6700\u7ec8\u51b3\u5b9a\u5c06\u5728\u4e3b\u7f51 MVP \u4e4b\u540e\u505a\u51fa\u3002"))}f.isMDXComponent=!0}}]);
<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-05Developing/03Deploying dApps/04Migrating dApps to the Neon EVM">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="search" type="application/opensearchdescription+xml" title="Neon Docs" href="/neonwp/opensearch.xml"><title data-rh="true">å‘Neon EVMè¿ç§»dApps (Migrating dApps to the Neon EVM) | Neon Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://github.com/neonwp/05Developing/03Deploying dApps/04Migrating dApps to the Neon EVM"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="å‘Neon EVMè¿ç§»dApps (Migrating dApps to the Neon EVM) | Neon Docs"><meta data-rh="true" name="description" content="The purpose of this document is to demonstrate to Ethereum users how easily their dApps can be ported to the Neon EVM. Using Neon Swap as an example/, we wil show you how to run dApps on Solana without any software code changes."><meta data-rh="true" property="og:description" content="The purpose of this document is to demonstrate to Ethereum users how easily their dApps can be ported to the Neon EVM. Using Neon Swap as an example/, we wil show you how to run dApps on Solana without any software code changes."><link data-rh="true" rel="icon" href="/neonwp/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/neonwp/05Developing/03Deploying dApps/04Migrating dApps to the Neon EVM"><link data-rh="true" rel="alternate" href="https://github.com/neonwp/05Developing/03Deploying dApps/04Migrating dApps to the Neon EVM" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/neonwp/05Developing/03Deploying dApps/04Migrating dApps to the Neon EVM" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://FKGRMS168A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/neonwp/assets/css/styles.366033d9.css">
<link rel="preload" href="/neonwp/assets/js/runtime~main.b330dfd2.js" as="script">
<link rel="preload" href="/neonwp/assets/js/main.ca07df00.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/neonwp/"><div class="navbar__logo"><img src="/neonwp/img/neonnew_svg.svg" alt=" " class="themedImage_W2Cr themedImage--light_TfLj"><img src="/neonwp/img/neonnew_svg.svg" alt=" " class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Neon EVMæŠ€æœ¯æ–‡æ¡£ä¸­è‹±åŒè¯­å¯¹ç…§ç‰ˆ(Neon EVM Doc ENG-CHN)</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Chainguys" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/neonwp/">ç‰ˆæƒå£°æ˜ï¼ˆCopyright Noticeï¼‰</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/01About/01Introduction">å…³äº(About)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/02Wallets/01settingup">é’±åŒ…(Wallets)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/03Explorers/01neonscan">æµè§ˆå™¨ (Explorers)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/04tokentransfer/01NeonPass Overview">ä»£å¸ä¼ è¾“ (Tokens Transferring)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/neonwp/05Developing/01Getting Started">å¼€å‘ (Developing)</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/neonwp/05Developing/01Getting Started">å‡†å¤‡å¼€å§‹ (Getting Started)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/neonwp/05Developing/02Setting up Environment/01Choosing a Neon Proxy">è®¾ç½®ç¯å¢ƒ (Setting up Environment)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/neonwp/05Developing/03Deploying dApps/01iUsing Remix">éƒ¨ç½²Dapp (Deploying dApps)</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/neonwp/05Developing/03Deploying dApps/01iUsing Remix">ä½¿ç”¨Remix (Using Remix)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/neonwp/05Developing/03Deploying dApps/02Using Truffle">ä½¿ç”¨Truffle (Using Truffle)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/neonwp/05Developing/03Deploying dApps/03Using Hardhat">ä½¿ç”¨Hardhat (Using Hardhat)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/neonwp/05Developing/03Deploying dApps/04Migrating dApps to the Neon EVM">å‘Neon EVMè¿ç§»dApps (Migrating dApps to the Neon EVM)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/neonwp/05Developing/03Deploying dApps/05Interacting with SPL Tokens">ä¸SPLä»£å¸äº¤äº’ (Interacting with SPL Tokens)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/neonwp/05Developing/03Deploying dApps/06Using ERC20 Tokens">ä½¿ç”¨ERC-20ä»£å¸ (Using ERC-20 Tokens)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/neonwp/05Developing/04Using utilities/01NeonScan">ä½¿ç”¨å…¬å…±ç¨‹åº (Using utilities)</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/06operating/01OR">è¿è¥ (Operating)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/07gov/01Governance Overview">ç¤¾åŒºæ²»ç† (Governance)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/08env/01Solana Cluster">ç¯å¢ƒ(Environment)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/09Architecture/01Neon EVM Architecture Overview">æ¶æ„ (Architecture)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/10faq/01What is Neon">FAQ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/11wp/wp">Neonç™½çš®ä¹¦(Neon Whitepaper)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/12å…¶ä»–è¡¥å……/01Transaction Value token">å…¶ä»–ä¿¡æ¯(additional information)</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_FykI"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_DTRl"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/neonwp/">ğŸ </a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">å¼€å‘ (Developing)</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">éƒ¨ç½²Dapp (Deploying dApps)</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">å‘Neon EVMè¿ç§»dApps (Migrating dApps to the Neon EVM)</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>å‘Neon EVMè¿ç§»dApps (Migrating dApps to the Neon EVM)</h1></header><p>The purpose of this document is to demonstrate to Ethereum users how easily their dApps can be ported to the Neon EVM. Using <a href="/neonwp/01About/02Terminology#neonswap"><em>Neon Swap</em></a> as an example/, we wil show you how to run dApps on <a href="https://docs.solana.com/introduction" target="_blank" rel="noopener noreferrer"><em>Solana</em></a> without any software code changes.</p><p>æœ¬æ–‡æ¡£çš„ç›®çš„æ˜¯å‘ä»¥å¤ªåŠç”¨æˆ·å±•ç¤ºä»–ä»¬çš„ dApp å¯ä»¥å¤šä¹ˆå®¹æ˜“åœ°ç§»æ¤åˆ° Neon EVMã€‚ä»¥ <a href="/neonwp/01About/02Terminology#neonswap">Neon Swap</a> ä¸ºä¾‹ï¼Œæˆ‘ä»¬å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•åœ¨ <a href="https://docs.solana.com/introduction" target="_blank" rel="noopener noreferrer"><em>Solana</em></a>ä¸Šè¿è¡Œ dAppï¼Œè€Œæ— éœ€æ›´æ”¹ä»»ä½•ä»£ç ã€‚</p><p>Every dApp includes a contract and a software supporting that contract. In the Neon EVM, all dApps are deployed via Neon proxies. To deploy a dApp, it needs to send a request to a proxy, after which the proxy will automatically deploy contracts of the dApp in the Neon EVM environment. Contracts are loaded into a chain, and the software is deployed on a separate server for providing users interaction with these contracts.</p><p>æ¯ä¸ª dApp éƒ½åŒ…å«ä¸€ä¸ªåˆçº¦å’Œæ”¯æŒè¯¥åˆçº¦çš„è½¯ä»¶ã€‚åœ¨ Neon EVM ä¸­ï¼Œæ‰€æœ‰ dApp éƒ½é€šè¿‡ Neon ä»£ç†éƒ¨ç½²ã€‚éƒ¨ç½² dApp éœ€è¦å‘ä»£ç†å‘é€è¯·æ±‚ï¼Œä»£ç†ä¼šè‡ªåŠ¨åœ¨ Neon EVM ç¯å¢ƒä¸­éƒ¨ç½² dApp çš„åˆçº¦ã€‚åˆçº¦è¢«åŠ è½½åˆ°é“¾ä¸Šï¼Œè½¯ä»¶åˆ™éƒ¨ç½²åœ¨å•ç‹¬çš„æœåŠ¡å™¨ä¸Šï¼Œæ¥ä¸ºç”¨æˆ·ä¸è¿™äº›åˆçº¦äº¤äº’ã€‚</p><p>In this description we show you how you can port Uniswap services to the Neon EVM environment. Since we do not have native keys to Uniswap, we will use a fork of Uniswap-V2 called <a href="/neonwp/01About/02Terminology#neonswap">NeonSwap</a>.</p><p>åœ¨æœ¬æè¿°ä¸­ï¼Œæˆ‘ä»¬å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•å°† Uniswap æœåŠ¡ç§»æ¤åˆ° Neon EVM ç¯å¢ƒã€‚ç”±äºæˆ‘ä»¬æ²¡æœ‰ Uniswap çš„æœ¬åœ°å¯†é’¥ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Uniswap-V2 çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œç§°ä¸º <a href="/neonwp/01About/02Terminology#neonswap">NeonSwap</a>ã€‚</p><p>Migrating dApps to the Neon EVM is done in three stages:<br>
<!-- -->è¿ç§»éœ€è¦åˆ†3é˜¶æ®µï¼š</p><ul><li><p>Stage 1 - Deploying contracts in a Neon EVM environment<br>
<!-- -->ç¬¬ 1 é˜¶æ®µ - åœ¨ Neon EVM ç¯å¢ƒä¸­éƒ¨ç½²åˆçº¦</p></li><li><p>Stage 2 - Checking if the deployed contracts work correctly<br>
<!-- -->ç¬¬ 2 é˜¶æ®µ - æ£€æŸ¥éƒ¨ç½²çš„åˆçº¦æ˜¯å¦æ­£å¸¸å·¥ä½œ</p></li><li><p>Stage 3 - Deploying the interface of the contracts<br>
<!-- -->ç¬¬ 3 é˜¶æ®µ - éƒ¨ç½²åˆçº¦æ¥å£</p></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="ç¬¬-1-é˜¶æ®µ---åœ¨-neon-evm-ç¯å¢ƒä¸­éƒ¨ç½²åˆçº¦stage-1-deploying-contracts-in-a-neon-evm-environment">ç¬¬ 1 é˜¶æ®µ - åœ¨ Neon EVM ç¯å¢ƒä¸­éƒ¨ç½²åˆçº¦ï¼ˆStage 1. Deploying Contracts in a Neon EVM Environmentï¼‰<a class="hash-link" href="#ç¬¬-1-é˜¶æ®µ---åœ¨-neon-evm-ç¯å¢ƒä¸­éƒ¨ç½²åˆçº¦stage-1-deploying-contracts-in-a-neon-evm-environment" title="Direct link to heading">â€‹</a></h4><p>Using NeonSwap as an example, we can demonstrate that no changes to software serving contracts are required to port dApps. Changes are made only to those components that are necessary for its operation on he Neon EVM.</p><p>ä»¥ NeonSwap ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥è¯æ˜è¿ç§» dApp ä¸éœ€è¦æ›´æ”¹è½¯ä»¶æœåŠ¡åˆçº¦ã€‚åªéœ€è¦æ›´æ”¹åœ¨ Neon EVM ä¸Šè¿è¡Œæ‰€éœ€çš„ç»„ä»¶ã€‚</p><p>The contracts are built by a typical Solidity compiler used in Ethereum. After compilation, all the necessary contracts are deployed on the Neon EVM using a Web3 proxy. This proxy provides a standard interface that Ethereum utilities and tools can use.</p><p>è¿™äº›åˆçº¦ç”±ä»¥å¤ªåŠä¸­ä½¿ç”¨çš„å…¸å‹ Solidity ç¼–è¯‘å™¨æ„å»ºã€‚ç¼–è¯‘åï¼Œæ‰€æœ‰å¿…è¦çš„åˆçº¦éƒ½ä½¿ç”¨ Web3 ä»£ç†éƒ¨ç½²åœ¨ Neon EVM ä¸Šã€‚è¯¥ä»£ç†æä¾›äº†ä»¥å¤ªåŠå®ç”¨ç¨‹åºå’Œå·¥å…·å¯ä»¥ä½¿ç”¨çš„æ ‡å‡†æ¥å£ã€‚</p><p>For example, Uniswap includes the following list of contracts that need to be deployed:</p><p>ä¾‹å¦‚ï¼ŒUniswap åŒ…æ‹¬ä»¥ä¸‹éœ€è¦éƒ¨ç½²çš„åˆçº¦åˆ—è¡¨ï¼š</p><ul><li>Governance  </li><li>Uniswap-v2-periphery  </li><li>Multicall  </li></ul><h5 class="anchor anchorWithStickyNavbar_mojV" id="ä¸ºéƒ¨ç½²åˆçº¦çš„æ›´æ”¹changes-for-deploying-contracts">ä¸ºéƒ¨ç½²åˆçº¦çš„æ›´æ”¹(Changes for Deploying Contracts)<a class="hash-link" href="#ä¸ºéƒ¨ç½²åˆçº¦çš„æ›´æ”¹changes-for-deploying-contracts" title="Direct link to heading">â€‹</a></h5><p>When deploying Uniswap in Neon EVM contracts, we made the following changes to them:</p><p>åœ¨ Neon EVM åˆçº¦ä¸­éƒ¨ç½² Uniswap æ—¶ï¼Œæˆ‘ä»¬å¯¹å…¶è¿›è¡Œäº†ä»¥ä¸‹æ›´æ”¹ï¼š</p><ul><li><p>The timeout value was increased.<br>
<!-- -->è¶…æ—¶å€¼å¢åŠ </p></li><li><p>The number of repeated requests for transaction recipes was increased:<br>
<!-- -->äº¤æ˜“å›æ‰§çš„é‡å¤è¯·æ±‚æ¬¡æ•°å¢åŠ ï¼š</p></li></ul><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// The call  </span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    wait factoryV1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">createExchange</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token maybe-class-name">WETHPartner</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">address</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> overrides</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// was replaced with  </span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> id </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> factoryV1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">createExchange</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token maybe-class-name">WETHPartner</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">address</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> overrides</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> receipt </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> provider</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">waitForTransaction</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">hash</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li>Added the <code>deploy contracts()</code> method.<br>æ·»åŠ <code>deploy contracts()</code> æ–¹æ³•</li></ul><p>Due to the fact that we did not have native keys to Uniswap, we had to change the addresses of the following uploaded contracts:</p><p>ç”±äºæˆ‘ä»¬æ²¡æœ‰ Uniswap çš„æœ¬åœ°å¯†é’¥ï¼Œæˆ‘ä»¬ä¸å¾—ä¸æ›´æ”¹ä»¥ä¸‹ä¸Šä¼ åˆçº¦çš„åœ°å€ï¼š</p><ul><li><p>UNI_ADDRESS</p></li><li><p>TIMELOCK_ADDRESS</p></li><li><p>GOVERNANCE_ADDRESS</p></li><li><p>MULTICALL_ADDRESS</p></li><li><p>MIGRATOR_ADDRESS</p></li><li><p>FACTORY_ADDRESS</p></li><li><p>ROUTER1_ADDRESS</p></li><li><p>ROUTER_ADDRESS</p></li><li><p>V1_FACTORY_ADDRESS</p></li><li><p>WETH_ADDRESS</p></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="ç¬¬-2-é˜¶æ®µ---æ£€æŸ¥éƒ¨ç½²çš„åˆçº¦æ˜¯å¦æ­£å¸¸å·¥ä½œ-stage-2-check-if-the-deployed-contracts-work-correctly">ç¬¬ 2 é˜¶æ®µ - æ£€æŸ¥éƒ¨ç½²çš„åˆçº¦æ˜¯å¦æ­£å¸¸å·¥ä½œ (Stage 2. Check if the Deployed Contracts Work Correctly)<a class="hash-link" href="#ç¬¬-2-é˜¶æ®µ---æ£€æŸ¥éƒ¨ç½²çš„åˆçº¦æ˜¯å¦æ­£å¸¸å·¥ä½œ-stage-2-check-if-the-deployed-contracts-work-correctly" title="Direct link to heading">â€‹</a></h4><p>Contract health checks are performed in a real chain, not in a test environment, which is fully managed.</p><p>åˆçº¦çš„å¥åº·æ£€æŸ¥åœ¨çœŸæ­£çš„é“¾ä¸­æ‰§è¡Œï¼Œè€Œä¸æ˜¯åœ¨å®Œå…¨æ‰˜ç®¡çš„æµ‹è¯•ç¯å¢ƒä¸­æ‰§è¡Œã€‚</p><p>Unlike the test environment, in a real working chain the range of test operations cannot be performed in full. (For example, operations such as generating a block with a specified number of transactions are excluded.) In a chain, all operations rely on real-time, and a user checking the contracts cannot influence the block generation.</p><p>ä¸æµ‹è¯•ç¯å¢ƒä¸åŒï¼Œåœ¨çœŸå®çš„å·¥ä½œé“¾ä¸­ï¼Œæµ‹è¯•æ“ä½œçš„èŒƒå›´ä¸èƒ½å…¨éƒ¨æ‰§è¡Œã€‚ï¼ˆä¾‹å¦‚ï¼Œä¸åŒ…æ‹¬ç”Ÿæˆå…·æœ‰æŒ‡å®šäº¤æ˜“æ•°é‡çš„å—ç­‰æ“ä½œã€‚ï¼‰åœ¨é“¾ä¸­ï¼Œæ‰€æœ‰æ“ä½œéƒ½ä¾èµ–äºå®æ—¶ï¼Œç”¨æˆ·æ£€æŸ¥åˆçº¦ä¸èƒ½å½±å“å—çš„ç”Ÿæˆã€‚</p><p>To test NeonSwap, we use the entire set of Uniswap-v2-core tests available in their repository for testing on Ethereum. The method of running these tests has been changed. Before running the tests, it is indicated that the deployment of contracts, calls to their methods, as well as testing takes place not in the test framework, but in the real blockchain.</p><p>ä¸ºäº†æµ‹è¯• NeonSwapï¼Œæˆ‘ä»¬ä½¿ç”¨å­˜å‚¨åº“ä¸­å¯ç”¨çš„æ•´å¥— Uniswap-v2-coreï¼Œåœ¨ä»¥å¤ªåŠä¸Šè¿›è¡Œæµ‹è¯•ã€‚è¿è¡Œè¿™äº›æµ‹è¯•çš„æ–¹æ³•å·²æ›´æ”¹ã€‚åœ¨è¿è¡Œæµ‹è¯•ä¹‹å‰ï¼Œéœ€è¦è¡¨æ˜ï¼šåˆçº¦çš„éƒ¨ç½²ã€æ–¹æ³•çš„è°ƒç”¨ä»¥åŠæµ‹è¯•ä¸æ˜¯åœ¨æµ‹è¯•æ¡†æ¶ä¸­è¿›è¡Œï¼Œè€Œæ˜¯åœ¨çœŸæ­£çš„åŒºå—é“¾ä¸­è¿›è¡Œã€‚</p><blockquote><p>For testing, we use an unmanaged environment. However, in Uniswap-v2-core tests (in contracts), there are sections of program code that contain environment management. In these pieces, we were able to successfully replace the environment management to expectation for a reaction from a chain. That is, where the block is to be generated, a delay is set. Then an action is performed and the reaction of the contract is evaluated; namely, whether it meets the expectation or not. At the same time, we believe that the number of blocks produced may be different.</p><p>å¯¹äºæµ‹è¯•ï¼Œæˆ‘ä»¬ä½¿ç”¨éæ‰˜ç®¡ç¯å¢ƒã€‚ä½†æ˜¯ï¼Œåœ¨ Uniswap-v2-core æµ‹è¯•ä¸­ï¼ˆåœ¨åˆçº¦ä¸­ï¼‰ï¼Œæœ‰éƒ¨åˆ†ç¨‹åºä»£ç åŒ…å«ç¯å¢ƒç®¡ç†ã€‚åœ¨è¿™äº›ä»£ç ä¸­ï¼Œæˆ‘ä»¬èƒ½å¤ŸæˆåŠŸåœ°å°†ç¯å¢ƒç®¡ç†æ›¿æ¢ä¸ºå¯¹é“¾çš„æœŸæœ›ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨è¦ç”Ÿæˆå—çš„åœ°æ–¹è®¾ç½®å»¶è¿Ÿã€‚ç„¶åæ‰§è¡Œä¸€ä¸ªåŠ¨ä½œå¹¶è¯„ä¼°åˆçº¦çš„ååº”ï¼›å³å…¶æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚åŒæ—¶ï¼Œæˆ‘ä»¬è®¤ä¸ºå‡ºå—çš„æ•°é‡å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚</p></blockquote><p>The need to adapt tests is because tests must issue correct results regardless of the run conditions.</p><p>è°ƒæ•´æµ‹è¯•çš„éœ€è¦æ˜¯å› ä¸ºæ— è®ºè¿è¡Œæ¡ä»¶å¦‚ä½•ï¼Œæµ‹è¯•éƒ½å¿…é¡»å¾—åˆ°æ­£ç¡®çš„ç»“æœã€‚</p><h5 class="anchor anchorWithStickyNavbar_mojV" id="è¿è¡Œuniswap-v2-core-å¥—ä»¶çš„æ›´æ”¹-changes-for-running-the-uniswap-v2-core-test-suite">è¿è¡ŒUniswap-v2-core å¥—ä»¶çš„æ›´æ”¹ (Changes for Running the Uniswap-v2-core Test Suite)<a class="hash-link" href="#è¿è¡Œuniswap-v2-core-å¥—ä»¶çš„æ›´æ”¹-changes-for-running-the-uniswap-v2-core-test-suite" title="Direct link to heading">â€‹</a></h5><p>The following changes were made to run the Uniswap-v2-core test suite in the Neon EVM:</p><p>ä¸ºäº†åœ¨ Neon EVM ä¸­è¿è¡Œ Uniswap-v2-core æµ‹è¯•å¥—ä»¶ï¼Œè¿›è¡Œäº†ä»¥ä¸‹æ›´æ”¹ï¼š</p><ul><li><p>Increased timeouts when expanding contracts<br>
<!-- -->æ‰©å±•åˆçº¦çš„è¶…æ—¶æ—¶é—´å¢åŠ </p></li><li><p>Changed ChainId
æ”¹å˜äº†é“¾ID</p></li><li><p>Replaced the rcp-request libraries, including the following: <code>Web3Provider</code> and <code>MockProvider</code> replaced with <code>JsonRpcProvider</code><br>
<!-- -->æ›¿æ¢äº† rcp-request åº“ï¼ŒåŒ…æ‹¬ï¼š<code>Web3Provider</code> å’Œ <code>MockProvider</code> &gt; æ›¿æ¢ä¸º <code>JsonRpcProvider</code></p></li><li><p>Changed the test using the <strong>mineBlock()</strong> method<br>
<!-- -->ä½¿ç”¨<strong>mineBlock()</strong>æ–¹æ³•ä¿®æ”¹æµ‹è¯•</p></li><li><p>Increased the number of re-requests in the <code>ethereum-waffle</code> library for receiving transaction receipts, including the following:<br>
<!-- -->åŠ äº† <code>ethereum-waffle</code> åº“ä¸­æ¥æ”¶äº¤æ˜“å›æ‰§çš„é‡æ–°è¯·æ±‚æ•°é‡ï¼ŒåŒ…æ‹¬ï¼š</p></li></ul><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// In the file  </span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">uniswap</span><span class="token operator">-</span><span class="token plain">v2</span><span class="token operator">-</span><span class="token plain">core</span><span class="token operator">/</span><span class="token plain">node_modules</span><span class="token operator">/</span><span class="token plain">@ethereum</span><span class="token operator">-</span><span class="token plain">waffle</span><span class="token operator">/</span><span class="token plain">chai</span><span class="token operator">/</span><span class="token plain">dist</span><span class="token operator">/</span><span class="token plain">cjs</span><span class="token operator">/</span><span class="token plain">matchers</span><span class="token operator">/</span><span class="token plain">emit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">js</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// the line  </span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> derivedPromise </span><span class="token operator">=</span><span class="token plain"> promise</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">then</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">tx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> contract</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">provider</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getTransactionReceipt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">tx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">hash</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">then</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">receipt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// was replaced with  </span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> derivedPromise </span><span class="token operator">=</span><span class="token plain"> promise</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">then</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">tx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> contract</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">provider</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">waitForTransaction</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">tx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">hash</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">then</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">receipt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">  </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li>Increased the value of <code>gasLimit</code> in the <code>ethereum-waffle</code> library.<br>å¢åŠ äº† <code>ethereum-waffle</code> åº“ä¸­ <code>gasLimit</code> çš„å€¼ã€‚</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="ç¬¬-3-é˜¶æ®µ---éƒ¨ç½²åˆçº¦æ¥å£stage-3-deploying-the-uniswap-interface">ç¬¬ 3 é˜¶æ®µ - éƒ¨ç½²åˆçº¦æ¥å£(Stage 3. Deploying the Uniswap Interface)<a class="hash-link" href="#ç¬¬-3-é˜¶æ®µ---éƒ¨ç½²åˆçº¦æ¥å£stage-3-deploying-the-uniswap-interface" title="Direct link to heading">â€‹</a></h4><p>After we have got the addresses of the contracts loaded into the Neon EVM, we can start deploying the Uniswap interface. It is necessary to specify that we use a real blockchain, and our contracts are located in this blockchain.</p><p>åœ¨æˆ‘ä»¬å°†åˆçº¦åœ°å€åŠ è½½åˆ° Neon EVM åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹éƒ¨ç½² Uniswap æ¥å£äº†ã€‚æœ‰å¿…è¦æŒ‡å®šæˆ‘ä»¬ä½¿ç”¨çœŸå®çš„åŒºå—é“¾ï¼Œå¹¶ä¸”æˆ‘ä»¬çš„åˆçº¦å°±åœ¨è¯¥åŒºå—é“¾ä¸­ã€‚</p><h5 class="anchor anchorWithStickyNavbar_mojV" id="neonswap-æ¥å£çš„æ›´æ”¹-changes-for-the-neonswap-interface">NeonSwap æ¥å£çš„æ›´æ”¹ (Changes for the NeonSwap Interface)<a class="hash-link" href="#neonswap-æ¥å£çš„æ›´æ”¹-changes-for-the-neonswap-interface" title="Direct link to heading">â€‹</a></h5><p>For the <a href="/neonwp/01About/02Terminology#neonswap">NeonSwap</a> interface to function successfully in the Neon EVM, we made the following changes:</p><p>ä¸ºäº†åœ¨ Neon EVM ä¸­æˆåŠŸè¿è¡Œ <a href="/neonwp/01About/02Terminology#neonswap">NeonSwap</a> æ¥å£ï¼Œæˆ‘ä»¬è¿›è¡Œäº†ä»¥ä¸‹æ›´æ”¹:  </p><ul><li><p>Added a new testnet to the adapted NeonSwap interface code. The name of the new network with the new chain-ID is registered in all places where it was used:<br>
<!-- -->å‘é€‚é…åçš„ NeonSwap æ¥å£ä»£ç æ·»åŠ æµ‹è¯•ç½‘ã€‚å…·æœ‰æ–°é“¾ ID &gt; çš„æ–°ç½‘ç»œçš„åç§°å·²åœ¨æ‰€æœ‰ä½¿ç”¨å®ƒçš„åœ°æ–¹æ³¨å†Œ:  </p><ul><li><p>Added <code>ChainId LOCAL</code> to dependent libraries and sources.<br>
<!-- -->ä¾èµ–åº“å’Œæºæ–°å¢<code>ChainId LOCAL</code>ã€‚</p></li><li><p>ChainID, url was specified in the .env file.<br>
<!-- -->ChainID, url åœ¨.env æ–‡ä»¶ä¸­æŒ‡å®šã€‚</p></li></ul></li><li><p>For the new network, a set of the loaded contracts was registered. In the directory <code>node_modules</code>, the addresses of contracts in the sources and dependent libraries were replaced.<br>
<!-- -->å¯¹äºæ–°ç½‘ç»œï¼Œä¸€ç»„åŠ è½½çš„åˆçº¦ä¹Ÿè¢«æ³¨å†Œã€‚åœ¨ <code>node_modules</code> &gt; ç›®å½•ä¸­ï¼Œæ›¿æ¢äº†æºå’Œä¾èµ–åº“ä¸­çš„åˆçº¦åœ°å€ã€‚</p></li></ul><blockquote><p>More details<br>
<!-- -->æ›´å¤šç»†èŠ‚</p><p>A quick guide to using NeonSwap can be found in How to Swap ERC-20 Tokens.</p><p>ä¸€ä¸ªå…³äºä½¿ç”¨NeonSwapçš„å¿«é€Ÿå‘å¯¼å¯ä»¥åœ¨ How to Swap ERC-20 Tokens æ‰¾åˆ°</p><p>All changes we made for porting the Uniswap service to the Neon EVM can be found in the <a href="https://github.com/neonlabsorg/uniswap-v2-core" target="_blank" rel="noopener noreferrer">Uniswap-v2-core Repository</a>.  </p><p>æˆ‘ä»¬ä¸ºå°† Uniswap æœåŠ¡ç§»æ¤åˆ° Neon EVM æ‰€åšçš„æ‰€æœ‰æ›´æ”¹éƒ½å¯ä»¥åœ¨ <a href="https://github.com/neonlabsorg/uniswap-v2-core" target="_blank" rel="noopener noreferrer">Uniswap-v2-core Repository</a>å­˜å‚¨åº“ä¸­æ‰¾åˆ°ã€‚</p></blockquote></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/05Developing/03Deploying dApps/04Migrating dApps to the Neon EVM.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/neonwp/05Developing/03Deploying dApps/03Using Hardhat"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">ä½¿ç”¨Hardhat (Using Hardhat)</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/neonwp/05Developing/03Deploying dApps/05Interacting with SPL Tokens"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ä¸SPLä»£å¸äº¤äº’ (Interacting with SPL Tokens)</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ç¬¬-1-é˜¶æ®µ---åœ¨-neon-evm-ç¯å¢ƒä¸­éƒ¨ç½²åˆçº¦stage-1-deploying-contracts-in-a-neon-evm-environment" class="table-of-contents__link toc-highlight">ç¬¬ 1 é˜¶æ®µ - åœ¨ Neon EVM ç¯å¢ƒä¸­éƒ¨ç½²åˆçº¦ï¼ˆStage 1. Deploying Contracts in a Neon EVM Environmentï¼‰</a><ul><li><a href="#ä¸ºéƒ¨ç½²åˆçº¦çš„æ›´æ”¹changes-for-deploying-contracts" class="table-of-contents__link toc-highlight">ä¸ºéƒ¨ç½²åˆçº¦çš„æ›´æ”¹(Changes for Deploying Contracts)</a></li></ul></li><li><a href="#ç¬¬-2-é˜¶æ®µ---æ£€æŸ¥éƒ¨ç½²çš„åˆçº¦æ˜¯å¦æ­£å¸¸å·¥ä½œ-stage-2-check-if-the-deployed-contracts-work-correctly" class="table-of-contents__link toc-highlight">ç¬¬ 2 é˜¶æ®µ - æ£€æŸ¥éƒ¨ç½²çš„åˆçº¦æ˜¯å¦æ­£å¸¸å·¥ä½œ (Stage 2. Check if the Deployed Contracts Work Correctly)</a><ul><li><a href="#è¿è¡Œuniswap-v2-core-å¥—ä»¶çš„æ›´æ”¹-changes-for-running-the-uniswap-v2-core-test-suite" class="table-of-contents__link toc-highlight">è¿è¡ŒUniswap-v2-core å¥—ä»¶çš„æ›´æ”¹ (Changes for Running the Uniswap-v2-core Test Suite)</a></li></ul></li><li><a href="#ç¬¬-3-é˜¶æ®µ---éƒ¨ç½²åˆçº¦æ¥å£stage-3-deploying-the-uniswap-interface" class="table-of-contents__link toc-highlight">ç¬¬ 3 é˜¶æ®µ - éƒ¨ç½²åˆçº¦æ¥å£(Stage 3. Deploying the Uniswap Interface)</a><ul><li><a href="#neonswap-æ¥å£çš„æ›´æ”¹-changes-for-the-neonswap-interface" class="table-of-contents__link toc-highlight">NeonSwap æ¥å£çš„æ›´æ”¹ (Changes for the NeonSwap Interface)</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/neonwp/">Doc list</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/Chainguys" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Chainguys" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/neonwp/assets/js/runtime~main.b330dfd2.js"></script>
<script src="/neonwp/assets/js/main.ca07df00.js"></script>
</body>
</html>
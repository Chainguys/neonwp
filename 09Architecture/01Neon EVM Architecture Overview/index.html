<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-09Architecture/01Neon EVM Architecture Overview">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="search" type="application/opensearchdescription+xml" title="Neon Docs" href="/neonwp/opensearch.xml"><title data-rh="true">Neon EVMæ¶æ„ä¸€è§ˆ(Neon EVM Architecture Overview) | Neon Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://github.com/neonwp/09Architecture/01Neon EVM Architecture Overview"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Neon EVMæ¶æ„ä¸€è§ˆ(Neon EVM Architecture Overview) | Neon Docs"><meta data-rh="true" name="description" content="This section describes the architectural solutions built into Neon EVM that enable fast transaction processing for Ethereum users. It also describes how tokens pass from users to final consumers."><meta data-rh="true" property="og:description" content="This section describes the architectural solutions built into Neon EVM that enable fast transaction processing for Ethereum users. It also describes how tokens pass from users to final consumers."><link data-rh="true" rel="icon" href="/neonwp/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/neonwp/09Architecture/01Neon EVM Architecture Overview"><link data-rh="true" rel="alternate" href="https://github.com/neonwp/09Architecture/01Neon EVM Architecture Overview" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/neonwp/09Architecture/01Neon EVM Architecture Overview" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://FKGRMS168A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/neonwp/assets/css/styles.366033d9.css">
<link rel="preload" href="/neonwp/assets/js/runtime~main.b330dfd2.js" as="script">
<link rel="preload" href="/neonwp/assets/js/main.ca07df00.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/neonwp/"><div class="navbar__logo"><img src="/neonwp/img/neonnew_svg.svg" alt=" " class="themedImage_W2Cr themedImage--light_TfLj"><img src="/neonwp/img/neonnew_svg.svg" alt=" " class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Neon EVMæŠ€æœ¯æ–‡æ¡£ä¸­è‹±åŒè¯­å¯¹ç…§ç‰ˆ(Neon EVM Doc ENG-CHN)</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Chainguys" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/neonwp/">ç‰ˆæƒå£°æ˜ï¼ˆCopyright Noticeï¼‰</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/01About/01Introduction">å…³äº(About)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/02Wallets/01settingup">é’±åŒ…(Wallets)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/03Explorers/01neonscan">æµè§ˆå™¨ (Explorers)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/04tokentransfer/01NeonPass Overview">ä»£å¸ä¼ è¾“ (Tokens Transferring)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/05Developing/01Getting Started">å¼€å‘ (Developing)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/06operating/01OR">è¿è¥ (Operating)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/07gov/01Governance Overview">ç¤¾åŒºæ²»ç† (Governance)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/08env/01Solana Cluster">ç¯å¢ƒ(Environment)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/neonwp/09Architecture/01Neon EVM Architecture Overview">æ¶æ„ (Architecture)</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/neonwp/09Architecture/01Neon EVM Architecture Overview">Neon EVMæ¶æ„ä¸€è§ˆ(Neon EVM Architecture Overview)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/neonwp/09Architecture/02Ethereum and 02Solana Capabilities in a single Solution">ä»¥å¤ªåŠå’Œ Solana æ€§èƒ½çš„ç»Ÿä¸€è§£å†³æ–¹æ¡ˆ (Ethereum and Solana Capabilities in a single Solution)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/neonwp/09Architecture/03EVM compatibility">EVMå…¼å®¹æ€§ (EVM compatibility)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/neonwp/09Architecture/04coreaspects/01Ethereum account">æ ¸å¿ƒæ–¹é¢ (Core Aspects)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/neonwp/09Architecture/05Architectural Limitations/01Restriction on Iterative Transactions">æ¶æ„çš„é™åˆ¶ (Architectural Limitations)</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/10faq/01What is Neon">FAQ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/11wp/wp">Neonç™½çš®ä¹¦(Neon Whitepaper)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/neonwp/12å…¶ä»–è¡¥å……/01Transaction Value token">å…¶ä»–ä¿¡æ¯(additional information)</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_FykI"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_DTRl"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/neonwp/">ğŸ </a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">æ¶æ„ (Architecture)</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">Neon EVMæ¶æ„ä¸€è§ˆ(Neon EVM Architecture Overview)</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Neon EVMæ¶æ„ä¸€è§ˆ(Neon EVM Architecture Overview)</h1></header><p><em>This section describes the architectural solutions built into Neon EVM that enable fast transaction processing for Ethereum users. It also describes how tokens pass from users to final consumers.</em></p><p><em>æœ¬èŠ‚ä»‹ç» Neon EVM ä¸­å†…ç½®çš„æ¶æ„è§£å†³æ–¹æ¡ˆï¼Œå¯ä¸ºä»¥å¤ªåŠç”¨æˆ·å®ç°å¿«é€Ÿäº¤æ˜“å¤„ç†ã€‚å®ƒè¿˜æè¿°äº†ä»£å¸å¦‚ä½•ä»ç”¨æˆ·ä¼ é€’åˆ°æœ€ç»ˆæ¶ˆè´¹è€…ã€‚</em></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="æ¦‚è¿°-general">æ¦‚è¿° (General)<a class="hash-link" href="#æ¦‚è¿°-general" title="Direct link to heading">â€‹</a></h3><p>For a user&#x27;s transaction to be executed quickly, it must be finalized quickly. Therefore, the main task for Neon EVM developers is to ensure the prompt finalization of a transaction. Also, solutions should be developed to ensure the creation of liquid tokens by Neon EVM users, and their circulation within Solana.</p><p>åªæœ‰å¿«é€Ÿç¡®å®šæœ€ç»ˆçŠ¶æ€ï¼Œç”¨æˆ·çš„äº¤æ˜“æ‰èƒ½å¿«é€Ÿæ‰§è¡Œã€‚å› æ­¤ï¼ŒNeon EVM å¼€å‘äººå‘˜çš„ä¸»è¦ä»»åŠ¡æ˜¯ç¡®ä¿äº¤æ˜“çš„åŠæ—¶å®Œæˆã€‚æ­¤å¤–ï¼Œåº”å¼€å‘è§£å†³æ–¹æ¡ˆæ¥ä¿è¯Neon EVM ç”¨æˆ·åˆ›å»ºæµåŠ¨ä»£å¸åŠå…¶åœ¨ Solana å†…çš„æµé€šã€‚</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="è§£å†³æ–¹æ¡ˆsolution">è§£å†³æ–¹æ¡ˆ(Solution)<a class="hash-link" href="#è§£å†³æ–¹æ¡ˆsolution" title="Direct link to heading">â€‹</a></h3><p>The architectural solution based on Neon EVM is presented in Fig. 1.<br>
<!-- -->åŸºäº Neon EVM çš„æ¶æ„è§£å†³æ–¹æ¡ˆå¦‚å›¾1æ‰€ç¤ºï¼š</p><p><img loading="lazy" src="/neonwp/assets/images/01-8e52087465ad65e9378cff33f268c609.png" width="842" height="932" class="img_E7b_">    </p><p>(å›¾ 1ï¼‰</p><p>The components of the architecture are:<br>
<!-- -->æ•´ä¸ªæ¶æ„çš„å„éƒ¨åˆ†å¦‚ä¸‹ï¼š</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="neon-evmç”¨æˆ·-neon-evm-user-user">Neon EVMç”¨æˆ· (Neon EVM User ,user)<a class="hash-link" href="#neon-evmç”¨æˆ·-neon-evm-user-user" title="Direct link to heading">â€‹</a></h4><p>Any user who has an account in Neon EVM with a balance in ETH, ERC-20, or ERC-721 tokens.</p><p>ä»»ä½•æ‹¥æœ‰ Neon EVM è´¦æˆ·ä¸”ä½™é¢ä¸º ETHã€ERC-20 æˆ– ERC-721 ä»£å¸çš„ç”¨æˆ·ã€‚</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="säº¤æ˜“-solana-transaction-s-trx">Säº¤æ˜“ (Solana Transaction ,S-trx)<a class="hash-link" href="#säº¤æ˜“-solana-transaction-s-trx" title="Direct link to heading">â€‹</a></h4><p>A transaction formed according to Solana network rules with a signature produced by Solana rules.</p><p>æœ¬èº«å’Œç­¾åéƒ½æ ¹æ® Solana ç½‘ç»œè§„åˆ™ç”Ÿæˆçš„äº¤æ˜“ã€‚</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="näº¤æ˜“-neon-transaction-n-trx">Näº¤æ˜“ (Neon Transaction ,N-trx)<a class="hash-link" href="#näº¤æ˜“-neon-transaction-n-trx" title="Direct link to heading">â€‹</a></h4><p>A transaction formed according to Ethereum rules with a signature produced by Ethereum rules.</p><p>æœ¬èº«å’Œç­¾åéƒ½ç”±ä»¥å¤ªåŠè§„åˆ™ç”Ÿæˆçš„äº¤æ˜“ã€‚</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="å®¢æˆ·ç«¯-neon-evm-client--client">å®¢æˆ·ç«¯ (Neon EVM Client , client)<a class="hash-link" href="#å®¢æˆ·ç«¯-neon-evm-client--client" title="Direct link to heading">â€‹</a></h4><p>An application that has an EVM (Solidity, Vyper, etc.) bytecode contract loaded into Neon EVM. The application generates a transaction N-trx according to Ethereum rules and sends it to a proxy. Before sending N-trx, the client transfers the required funds to the Solana deposit to cover the costs of an operator.</p><p>å°† EVM(Solidityã€Vyper ç­‰)å­—èŠ‚ç åˆçº¦åŠ è½½åˆ° Neon EVM ä¸­çš„åº”ç”¨ç¨‹åºã€‚å®ƒæ ¹æ®ä»¥å¤ªåŠè§„åˆ™ç”Ÿæˆä¸€ç¬”Näº¤æ˜“å¹¶å°†å…¶å‘é€åˆ°ä»£ç†ã€‚åœ¨å‘é€Näº¤æ˜“ä¹‹å‰ï¼Œå®¢æˆ·å°†æ‰€éœ€èµ„é‡‘åˆ’å…¥ Solana å­˜æ¬¾ä»¥æ”¯ä»˜è¿è¥æ–¹çš„è´¹ç”¨ã€‚</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="è¿è¥æ–¹è¿è¥å•†neon-evm-operator-operator">è¿è¥æ–¹/è¿è¥å•†(Neon EVM Operator ,operator)<a class="hash-link" href="#è¿è¥æ–¹è¿è¥å•†neon-evm-operator-operator" title="Direct link to heading">â€‹</a></h4><p>A role performed by a Solana account using a software tool. Within Neon EVM, an operator is provided with software in the form of a proxy in order to fulfill certain functions. The operator can deploy one or more proxies. The operator can also configure one proxy for multiple operators, as well as run several proxies with different settings.</p><p>Solana å¸æˆ·ä½¿ç”¨è½¯ä»¶å·¥å…·æ‹…ä»»çš„è§’è‰²ã€‚åœ¨ Neon EVM ä¸­ï¼Œä¸ºè¿è¥æ–¹æä¾›äº†ä»£ç†å½¢å¼çš„è½¯ä»¶æ¥å®ç°æŸäº›åŠŸèƒ½ã€‚è¿è¥æ–¹å¯ä»¥éƒ¨ç½²ä¸€ä¸ªæˆ–å¤šä¸ªä»£ç†ã€‚ä¸€ä¸ªè¿è¥æ–¹è¿˜å¯ä»¥ä¸ºå¤šä¸ªè¿è¥è€…é…ç½®åŒä¸€ä¸ªä»£ç†ï¼Œä¹Ÿå¯è¿è¡Œè®¾ç½®ç›¸å¼‚çš„å¤šä¸ªä»£ç†ã€‚</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="neonä»£ç†-neon-web3-proxy-proxy">Neonä»£ç† (Neon Web3 Proxy, proxy)<a class="hash-link" href="#neonä»£ç†-neon-web3-proxy-proxy" title="Direct link to heading">â€‹</a></h4><p>The software that an operator uses to do their job. Although the proxy is not a mandatory component in the Neon EVM architecture (for example, proxy logic can be implemented inside a client&#x27;s browser), implementing it as a separate component can speed up transaction processing. In the Neon EVM mainnet, the proxy must provide multithreading to work in parallel.</p><p>è¿è¥æ–¹ç”¨æ¥å®Œæˆå·¥ä½œçš„è½¯ä»¶ã€‚å°½ç®¡ä»£ç†ä¸æ˜¯ Neon EVM æ¶æ„ä¸­çš„å¿…é¡»ç»„ä»¶(ä¾‹å¦‚ï¼Œä»£ç†é€»è¾‘å¯ä»¥åœ¨å®¢æˆ·ç«¯çš„æµè§ˆå™¨ä¸­å®ç°)ï¼Œä½†å°†å…¶ä½œä¸ºå•ç‹¬çš„ç»„ä»¶å®ç°å¯ä»¥åŠ å¿«äº¤æ˜“å¤„ç†é€Ÿåº¦ã€‚åœ¨ Neon EVM ä¸»ç½‘ä¸­ï¼Œä»£ç†å¿…é¡»æä¾›(æ”¯æŒ)å¤šçº¿ç¨‹æ‰èƒ½å¹¶è¡Œå·¥ä½œã€‚</p><p>The proxy contains an EVM emulator that pre-tests the execution of the transaction. This testing determines the number of coins required on the operator&#x27;s balance, as well as the current exchange rate of SOL to ETH. Each operator configures their proxy server with this course in mind. This relates to economic motivation.</p><p>ä»£ç†åŒ…å«ä¸€ä¸ª EVM æ¨¡æ‹Ÿå™¨ï¼Œç”¨äºé¢„å…ˆæµ‹è¯•äº¤æ˜“çš„æ‰§è¡Œã€‚è¯¥æµ‹è¯•ç¡®å®šè¿è¥æ–¹ä½™é¢æ»¡è¶³(è¿è¥æ—¶)æ‰€éœ€æŒæœ‰çš„ä»£å¸æ•°é‡ï¼Œä»¥åŠå½“å‰ SOL ä¸ ETH çš„æ±‡ç‡ã€‚æ¯ä¸ªè¿è¥æ–¹åœ¨é…ç½®ä»–ä»¬çš„ä»£ç†æœåŠ¡å™¨æ—¶éƒ½ä¼šè€ƒè™‘è¿™äº›ã€‚è¿™ä¸ç»æµåŠ¨æœº(æ¿€åŠ±)æœ‰å…³ã€‚</p><p>A proxy converts N-trx into transactions under Solana rules. N-trx is signed by a user, while S-trxes are signed by an operator. The Neon transaction text is loaded from the received S-trexes into a separate account that is created in Solana. Neon EVM receives a command to execute the transaction located at the address of this account.</p><p>ä»£ç†å°†Näº¤æ˜“è½¬æ¢ä¸º Solana è§„åˆ™ä¸‹çš„äº¤æ˜“ã€‚Näº¤æ˜“ç”±ç”¨æˆ·ç­¾åï¼Œè€ŒSäº¤æ˜“ç”±è¿è¥æ–¹ç­¾åã€‚Neon äº¤æ˜“æ–‡æœ¬ä»æ”¶åˆ°çš„Säº¤æ˜“åŠ è½½åˆ°åœ¨ Solanaåˆ›å»ºçš„å•ç‹¬å¸æˆ·ä¸­ã€‚Neon EVMæ¥æ”¶æ‰§è¡Œè¯¥å¸æˆ·åœ°å€çš„äº¤æ˜“å‘½ä»¤ã€‚</p><p>More details on how the proxy converts a N-trx to multiple S-trxs can be foundÂ <a href="https://neonlabsorg.medium.com/neon-web3-proxy-facilitating-seamless-transactions-on-neon-evm-b33c2041aa08" target="_blank" rel="noopener noreferrer">here</a>.</p><p>å¯ä»¥åœ¨<a href="https://neonlabsorg.medium.com/neon-web3-proxy-facilitating-seamless-transactions-on-neon-evm-b33c2041aa08" target="_blank" rel="noopener noreferrer">æ­¤å¤„</a>æ‰¾åˆ°æœ‰å…³ä»£ç†å¦‚ä½•å°† N-trx è½¬æ¢ä¸ºå¤šä¸ª S-trx çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚</p><p>Below is a list of the main Neon Web3 Proxy features that are implemented in the Neon EVM Testnet:</p><p>ä»¥ä¸‹æ˜¯ Neon EVM æµ‹è¯•ç½‘ä¸­å®ç°çš„ä¸»è¦ Neon Web3 ä»£ç†åŠŸèƒ½åˆ—è¡¨ï¼š</p><ul><li><p>Receiving requests over Web3 API protocol<br>
<!-- -->é€šè¿‡ Web3 API åè®®æ¥æ”¶è¯·æ±‚</p></li><li><p>Shaping responses using Web3 API protocol<br>
<!-- -->ä½¿ç”¨ Web3 API åè®®å¡‘é€ (ç¼–è¾‘)å“åº”</p></li><li><p>Packaging a Neon transaction into a Solana transaction. The Solana transaction contains the following information:<br>
<!-- -->å°† Neon äº¤æ˜“æ‰“åŒ…åˆ° Solana äº¤æ˜“ä¸­ï¼ŒåŒ…å«çš„ä¿¡æ¯æœ‰ï¼š</p><ul><li>The Neon EVM operator account that the amount in SOL tokens should be withdrawn from for execution<br>Neon EVM è¿è¥æ–¹å¸æˆ·å› æ‰§è¡Œ(äº¤æ˜“)è€Œåº”æå–çš„ SOL ä»£å¸é‡‘é¢</li><li>The Neon EVM operator account where a payment is sent for the job done in tokens specified by the user<br>Neon EVM è¿è¥æ–¹å› å®Œæˆç”¨æˆ·æŒ‡å®šä»£å¸çš„å·¥ä½œè€Œç”¨æ¥ä»˜æ¬¾çš„å¸æˆ·</li><li>The Neon EVM account to deposit funds to be spent for iterative execution of a transaction<br>å­˜æ”¾ç”¨äºè¿­ä»£æ‰§è¡Œäº¤æ˜“ä¹‹èµ„é‡‘çš„Neon EVMè´¦æˆ·</li><li>A list of accounts that are participating in the execution of Neon transactions (formed according to Solana rules)<br>å‚ä¸æ‰§è¡ŒNeonäº¤æ˜“çš„è´¦æˆ·åˆ—è¡¨(æ ¹æ® Solana è§„åˆ™å½¢æˆ)</li><li>The number of steps per iteration of a Neon transaction<br>Neonäº¤æ˜“æ¯æ¬¡è¿­ä»£çš„æ­¥é•¿</li></ul></li><li><p>Executing read-only Solidity methods of contracts<br>
<!-- -->æ‰§è¡Œåªè¯»Solidityæ–¹æ³•çš„åˆçº¦</p></li><li><p>Providing a method for linking accounts from SPL token contracts to ERC-20: an SPL wrapper to access SPL token contracts via Neon transactions<br>
<!-- -->æä¾›ä¸€ç§å°†è´¦æˆ·ä» SPL ä»£å¸åˆçº¦é“¾æ¥åˆ° ERC-20 çš„æ–¹æ³•ï¼šé€šè¿‡ Neon äº¤æ˜“è®¿é—® SPL ä»£å¸åˆçº¦çš„ SPL å°è£…å™¨</p></li><li><p>Giving users a method to switch a token to be used for gas payment<br>
<!-- -->ä¸ºç”¨æˆ·æä¾›ä¸€ç§åˆ‡æ¢ä»£å¸ç±»å‹æ¥æ”¯ä»˜gasè´¹ç”¨çš„æ–¹æ³•</p></li><li><p>Giving users a method to execute an Neon transaction without a test run.<br>
<!-- -->ä¸ºç”¨æˆ·æä¾›æ— éœ€è¯•è¿è¡Œå³å¯æ‰§è¡Œ Neon äº¤æ˜“çš„æ–¹æ³•ã€‚</p></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="neon-evm">Neon EVM<a class="hash-link" href="#neon-evm" title="Direct link to heading">â€‹</a></h4><p>An Ethereum Virtual Machine compiled into the Berkeley Packet Filter bytecode of a virtual machine running on Solana. Neon EVM is configured using a multisig EVM account that resembles a decentralized Neon EVM governance. Participants of the multisig EVM account (actors) can change the Neon EVM code and set up Neon EVM parameters.</p><p>ä¸€ä¸ªä»¥å¤ªåŠè™šæ‹Ÿæœºç¼–è¯‘æˆè¿è¡Œåœ¨ Solana ä¸Šè™šæ‹Ÿæœºçš„ä¼¯å…‹åˆ©åŒ…è¿‡æ»¤å™¨å­—èŠ‚ç ã€‚Neon EVM ä½¿ç”¨ç±»å»ä¸­å¿ƒåŒ– Neon EVM æ²»ç†çš„å¤šé‡ç­¾å EVM å¸æˆ·è¿›è¡Œé…ç½®ã€‚å¤šé‡ç­¾å EVM å¸æˆ·çš„å‚ä¸è€…(æ´»åŠ¨è€…)å¯ä»¥æ›´æ”¹ Neon EVM ä»£ç å¹¶è®¾ç½® Neon EVM å‚æ•°ã€‚</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="neon-evmæ²»ç†å‚ä¸è€…neon-evm-governance-participant">Neon EVMæ²»ç†å‚ä¸è€…(Neon EVM Governance Participant)<a class="hash-link" href="#neon-evmæ²»ç†å‚ä¸è€…neon-evm-governance-participant" title="Direct link to heading">â€‹</a></h4><p>Governance participants perform the following functions:<br>
<!-- -->æ²»ç†å‚ä¸è€…è¿ä½œä»¥ä¸‹èŒèƒ½ï¼š</p><ul><li><p>Updating contracts<br>
<!-- -->æ›´æ–°åˆçº¦</p></li><li><p>Adding functionality<br>
<!-- -->æ·»åŠ æ–°åŠŸèƒ½</p></li><li><p>Eliminating shortcomings in the program code<br>
<!-- -->æ¶ˆé™¤ç¨‹åºä»£ç ä¸­çš„ç¼ºé™·</p></li><li><p>Changing settings parameters such as the fee value, opening a new balance, the Mn value, the maximum number of iterations, etc.<br>
<!-- -->æ›´æ”¹å‚æ•°ï¼Œä¾‹å¦‚è´¹ç”¨å€¼ã€å¼€ç«‹æ–°ä½™é¢ã€Mnå€¼ã€æœ€å¤§è¿­ä»£æ¬¡æ•°ç­‰ã€‚</p></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="erc-20-tkn">ERC-20 TKN<a class="hash-link" href="#erc-20-tkn" title="Direct link to heading">â€‹</a></h4><p>This is a contract based on the ERC-20 standard token. An ERC-20 token shows user balances for a certain ticker. After an account (user-acc) selects a type of token, this contract becomes blocked.</p><p>è¿™æ˜¯ä¸€ä¸ªåŸºäº ERC-20 æ ‡å‡†ä»£å¸çš„åˆçº¦ã€‚ ERC-20 ä»£å¸æ˜¾ç¤ºç‰¹å®š(äº¤æ˜“)ä»£å·çš„ç”¨æˆ·ä½™é¢ã€‚åœ¨ä¸€ä¸ªè´¦æˆ·(user-acc)é€‰æ‹©äº†ä¸€ç§ä»£å¸åï¼Œè¿™ä¸ªåˆçº¦å°±è¢«å°é”äº†ã€‚</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="splä»£å¸spl-token">SPLä»£å¸(SPL Token)<a class="hash-link" href="#splä»£å¸spl-token" title="Direct link to heading">â€‹</a></h4><p>Solana Program library (SPL) token is a contract that contains a system register of tokens that are in the system, along with the Solana balances of their users. The contract implements the ERC-20 interface; this is a description of the basic set of functions that the contract must support. Transferring funds is possible only with a contract that supports this operation.</p><p>Solana ç¨‹åºåº“ (SPL) ä»£å¸æ˜¯ä¸€ç§åŒ…å«ä¸€ä¸ªç³»ç»Ÿä»£å¸æ³¨å†Œå™¨å’Œç”¨æˆ·å¯¹åº”Solanaä½™é¢çš„åˆçº¦ã€‚åˆçº¦å®ç°äº†ERC-20æ¥å£ï¼›è¿™æ˜¯å¯¹åˆçº¦å¿…é¡»æ”¯æŒçš„åŸºæœ¬åŠŸèƒ½é›†çš„æè¿°ã€‚åªæœ‰é€šè¿‡æ”¯æŒæ­¤æ“ä½œçš„åˆçº¦æ‰èƒ½è½¬ç§»èµ„é‡‘ã€‚</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="solana">Solana<a class="hash-link" href="#solana" title="Direct link to heading">â€‹</a></h4><p>This is a blockchain containing a stream of blocks. It stores a block-log of completed operations. It also contains the current Solana state, where the results of transactions, accounts, and public keys are stored. There are also two balances: one for ETH tokens, and another for the token that the transaction will be paid in.</p><p>è¿™æ˜¯ä¸€ä¸ªåŒ…å«åŒºå—æµçš„åŒºå—é“¾ã€‚å®ƒå­˜å‚¨å·²å®Œæˆæ“ä½œçš„åŒºå—æ—¥å¿—ã€‚å®ƒè¿˜åŒ…å«å½“å‰ Solana çŠ¶æ€ï¼Œå…¶ä¸­å­˜å‚¨äº†äº¤æ˜“çš„ç»“æœã€å¸æˆ·å’Œå…¬é’¥ã€‚æ­¤å¤–è¿˜æœ‰ä¸¤ä¸ªä½™é¢ï¼šä¸€ä¸ªç”¨äº ETH ä»£å¸ï¼Œå¦ä¸€ä¸ªç”¨äºæ”¯ä»˜äº¤æ˜“çš„ä»£å¸ã€‚</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="erc-20å°è£…å™¨erc-20-wrapper">ERC-20å°è£…å™¨(ERC-20 Wrapper)<a class="hash-link" href="#erc-20å°è£…å™¨erc-20-wrapper" title="Direct link to heading">â€‹</a></h4><p>This is a separate contract developed using the ERC20 standard. It contains maps with user balances. Although this contract is hosted inside Neon EVM, it is completely standalone and independent.</p><p>è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ ERC20 æ ‡å‡†å¼€å‘çš„å•ç‹¬åˆçº¦ã€‚å®ƒåŒ…å«å¸¦æœ‰ç”¨æˆ·ä½™é¢çš„æ˜ å°„ã€‚å°½ç®¡è¯¥åˆçº¦æ‰˜ç®¡åœ¨ Neon EVM ä¸­ï¼Œä½†å®ƒæ˜¯å®Œå…¨ç‹¬ç«‹çš„ã€‚</p><p>A user can create a contract supporting the ERC20 standard for a specific token and generate the required number of tokens (coins). These tokens will only be liquid within Neon EVM. For these coins to be liquid in Solana, the SPL Token and ERC-20 TKN contracts must be interoperable. This function is performed by the ERC-20 Wrapper contract.</p><p>ç”¨æˆ·å¯ä»¥ä¸ºç‰¹å®šä»£å¸åˆ›å»ºæ”¯æŒ ERC20 æ ‡å‡†çš„åˆçº¦ï¼Œå¹¶ç”Ÿæˆæ‰€éœ€æ•°é‡çš„ä»£å¸ã€‚è¿™äº›ä»£å¸å°†ä»…èƒ½åœ¨ Neon EVM ä¸­æµåŠ¨ã€‚ä¸ºäº†ä½¿è¿™äº›ä»£å¸åœ¨ Solana ä¸­ä¹Ÿå…·æœ‰æµåŠ¨æ€§ï¼ŒSPL ä»£å¸å’Œ ERC-20 TKNåˆçº¦å¿…é¡»æ˜¯å¯äº¤äº’çš„ã€‚æ­¤åŠŸèƒ½ç”± ERC-20 Wrapper åˆçº¦æ‰§è¡Œã€‚</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="ç”¨ç»æµå­¦æ¿€åŠ±è¿è¥æ–¹using-economics-to-motivate-operators">ç”¨ç»æµå­¦æ¿€åŠ±è¿è¥æ–¹(Using Economics to Motivate Operators)<a class="hash-link" href="#ç”¨ç»æµå­¦æ¿€åŠ±è¿è¥æ–¹using-economics-to-motivate-operators" title="Direct link to heading">â€‹</a></h3><p>Conventionally, the processing of a transaction is divided into several steps (iterations). The number of steps may vary depending on the number of operations required to complete the transaction. The next step starts only after the previous step has been successfully completed (Fig. 2).</p><p>å¸¸è§„æ¥è¯´ï¼Œäº¤æ˜“çš„å¤„ç†åˆ†ä¸ºå‡ ä¸ªæ­¥éª¤(è¿­ä»£)ã€‚æ­¥éª¤çš„æ•°é‡å¯èƒ½ä¼šæ ¹æ®å®Œæˆäº¤æ˜“æ‰€éœ€çš„æ“ä½œæ•°é‡è€Œæœ‰æ‰€ä¸åŒã€‚åªæœ‰åœ¨ä¸Šä¸€æ­¥æˆåŠŸå®Œæˆåæ‰å¼€å§‹ä¸‹ä¸€æ­¥(ä¸²è¡Œ)ï¼Œå¦‚å›¾2æ‰€ç¤ºï¼š</p><p><img loading="lazy" src="/neonwp/assets/images/02-20d00c5ae55153636f96df2cd04a9017.png" width="792" height="334" class="img_E7b_">  </p><p>(å›¾ 2)</p><p>A transaction is considered to be successfully completed if the &quot;Final&quot; step finishes. The execution of the transaction should not go beyond the allotted number of Mn blocks. In other words, the operations performed at all steps must be completed within the Mn period, or the transaction is considered incomplete.</p><p>å¦‚æœâ€œFinal(æœ€ç»ˆ)â€æ­¥éª¤å®Œæˆï¼Œä¸€èˆ¬å°±è®¤ä¸ºäº¤æ˜“æˆåŠŸå®Œæˆäº†ã€‚äº¤æ˜“çš„æ‰§è¡Œä¸åº”è¶…è¿‡åˆ†é…çš„ Mn å—æ•°ã€‚æ¢å¥è¯è¯´ï¼Œæ‰€æœ‰æ­¥éª¤çš„æ‰§è¡Œæ“ä½œéƒ½å¿…é¡»åœ¨ Mn å‘¨æœŸå†…å®Œæˆï¼Œå¦åˆ™è¯¥äº¤æ˜“è¢«è®¤ä¸ºæ˜¯ä¸å®Œæ•´(æœªå®Œæˆ)çš„ã€‚</p><p>A user who forms a transaction will indicate an operator (proxy) within it. That operator will be responsible for the execution of the transaction. Each operator has a deposit account in Neon EVM. These accounts belong to Neon EVM, so no one can withdraw funds from the deposit account until the finalization step has been completed. Before processing a transaction, Neon EVM debits the funds from the operator account (op-acc) and transfers them to the operator&#x27;s deposit account (dep-acc).</p><p>å½¢æˆ(å‘èµ·)äº¤æ˜“çš„ç”¨æˆ·å°†åœ¨(äº¤æ˜“ä¸­)æŒ‡æ˜è¿è¥æ–¹(ä»£ç†)ã€‚è¯¥è¿è¥æ–¹å°†è´Ÿè´£äº¤æ˜“çš„æ‰§è¡Œã€‚æ¯ä¸ªè¿è¥æ–¹åœ¨ Neon EVM ä¸­éƒ½æœ‰ä¸€ä¸ªå­˜æ¬¾è´¦æˆ·ã€‚è¿™äº›è´¦æˆ·å±äº Neon EVMï¼Œå› æ­¤åœ¨å®Œæˆæœ€ç»ˆæ­¥éª¤ä¹‹å‰ï¼Œä»»ä½•äººéƒ½ä¸èƒ½ä»å­˜æ¬¾è´¦æˆ·ä¸­æå–èµ„é‡‘ã€‚åœ¨å¤„ç†äº¤æ˜“ä¹‹å‰ï¼ŒNeon EVM ä»è¿è¥æ–¹è´¦æˆ· (op-acc) ä¸­æ‰£é™¤èµ„é‡‘å¹¶å°†å…¶è½¬å…¥è¿è¥æ–¹çš„å­˜æ¬¾è´¦æˆ· (dep-acc)ã€‚</p><p>If for any reason (such as lack of funds), an operation is not performed at a given step, the next operator starts processing the transaction from the current step. This operator does not deposit any funds for the remaining steps. If they also do not complete all of the remaining steps, this process is passed to the next operator. At the &quot;Final&quot; step, a transaction is created that withdraws funds from the deposit in full and credits them to the operator who completed this last step. This method of implementation moivates not only the client, but also any operator involved in processing the transaction to have a vested interest in making sure that the transaction is successfully completed.</p><p>å¦‚æœç”±äºä»»ä½•åŸå› (ä¾‹å¦‚èµ„é‡‘ä¸è¶³)ï¼Œåœ¨æŒ‡å®šæ­¥éª¤æœªæ‰§è¡Œæ“ä½œï¼Œåˆ™ä¸‹ä¸€ä¸ªè¿è¥æ–¹å°±ä¼šä»å½“å‰æ­¥éª¤å¼€å§‹å¤„ç†äº¤æ˜“ã€‚è¯¥è¿è¥æ–¹ä¸ä¼šä¸ºå‰©ä½™æ­¥éª¤æ³¨å…¥ä»»ä½•èµ„é‡‘ã€‚å¦‚æœä»–ä»¬ä¹Ÿæ²¡æœ‰å®Œæˆæ‰€æœ‰å‰©ä½™æ­¥éª¤ï¼Œåˆ™æ­¤è¿‡ç¨‹å°†ä¼ é€’ç»™ä¸‹ä¸€ä¸ªè¿è¥æ–¹ã€‚åœ¨â€œæœ€ç»ˆâ€æ­¥éª¤ï¼Œä¸€ä¸ªä»å­˜æ¬¾ä¸­å…¨é¢æå–èµ„é‡‘ï¼Œå¹¶å°†å…¶å­˜å…¥è¿è¥æ–¹æ¥å®Œæˆæœ€åä¸€æ­¥çš„äº¤æ˜“å°†è¢«åˆ›å»ºã€‚è¿™ç§å®æ–½æ–¹æ³•ä¸ä»…æ¿€åŠ±å®¢æˆ·(ç«¯)ï¼Œè€Œä¸”æ¿€åŠ±å‚ä¸å¤„ç†äº¤æ˜“çš„ä»»ä½•è¿è¥æ–¹ï¼Œæœ‰è¶³å¤Ÿçš„æ—¢å¾—åˆ©ç›Šæ¥ç¡®ä¿äº¤æ˜“å®Œæˆã€‚</p><p>Example:<br>
<!-- -->ä¸¾ä¾‹:  </p><p>Step 1: transferring funds to a deposit.<br>
<!-- -->ç¬¬ 1 æ­¥ï¼šå°†èµ„é‡‘è½¬å…¥å­˜æ¬¾ã€‚</p><p>Step 2: blocking an account.<br>
<!-- -->ç¬¬ 2 æ­¥ï¼šå°é—­/é”ä½ä¸€ä¸ªå¸æˆ·ã€‚</p><p>Additional Steps: other actions.<br>
<!-- -->é™„åŠ æ­¥éª¤ï¼šå…¶ä»–åŠ¨ä½œã€‚</p><p>Final Step: the deposit is returned to the operator&#x27;s account (op acc). The results of the transaction have already been reflected in the Solana state.</p><p>æœ€åä¸€æ­¥ï¼šæŠ¼é‡‘é€€å›åˆ°è¿è¥æ–¹çš„è´¦æˆ·(op acc)ã€‚äº¤æ˜“ç»“æœå·²ç»åæ˜ åœ¨ Solana çŠ¶æ€ä¸­ã€‚</p><p>In the Neon EVM settings, there is a limit on the number of blocks (Mn) that can be processed during a transaction. By default, the Mn value is 1. that is, a transaction must be completed during the processing of one block. There is also a limit on the number of steps (iterations) that can be taken to complete a transaction. The Mn value and the number of iterations are set by a multisig account. The number of steps is also limited by a userâ€™s fund balance.</p><p>åœ¨ Neon EVM è®¾ç½®ä¸­ï¼Œäº¤æ˜“æœŸé—´å¯ä»¥å¤„ç†çš„å—æ•° (Mn) æœ‰é™åˆ¶ã€‚Mn å€¼é»˜è®¤ä¸º 1ï¼Œå³åœ¨å¤„ç†ä¸€ä¸ªå—çš„è¿‡ç¨‹ä¸­å¿…é¡»å®Œæˆä¸€ç¬”äº¤æ˜“ã€‚å®Œæˆäº¤æ˜“å¯ä»¥é‡‡å–çš„æ­¥éª¤(è¿­ä»£)æ•°é‡ä¹Ÿæœ‰é™åˆ¶ã€‚Mn å€¼å’Œè¿­ä»£æ¬¡æ•°ç”±å¤šé‡ç­¾åå¸æˆ·è®¾ç½®ã€‚æ­¥æ•°ä¹Ÿå—ç”¨æˆ·èµ„é‡‘ä½™é¢çš„é™åˆ¶ã€‚</p><p>At every step, the &quot;Continue&quot; operation checks whether or not this is the last step in the transaction execution.</p><p>&quot;ç»§ç»­ (Continue)â€æ“ä½œä¼šåœ¨æ¯ä¸€æ­¥éƒ½æ£€æŸ¥è¿™æ˜¯å¦æ˜¯äº¤æ˜“æ‰§è¡Œçš„æœ€åä¸€æ­¥ã€‚</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="è¿è¥æ–¹å¦‚ä½•å‘ç°å·²å‡†å¤‡å¥½ç»§ç»­è¿›è¡Œçš„äº¤æ˜“how-can-operators-find-out-about-the-transactions-that-are-ready-to-be-continued">è¿è¥æ–¹å¦‚ä½•å‘ç°å·²å‡†å¤‡å¥½ç»§ç»­è¿›è¡Œçš„äº¤æ˜“?(How can operators find out about the transactions that are ready to be continued?)<a class="hash-link" href="#è¿è¥æ–¹å¦‚ä½•å‘ç°å·²å‡†å¤‡å¥½ç»§ç»­è¿›è¡Œçš„äº¤æ˜“how-can-operators-find-out-about-the-transactions-that-are-ready-to-be-continued" title="Direct link to heading">â€‹</a></h4><p>Solana&#x27;s entire history is stored in the Solana state. Using this history, the operator can obtain the necessary information about all transactions related to Neon EVM. The proxy can track incomplete transactions in this history: transactions that can be continued by another operator. The operator who wishes to continue executing the unfinished transaction must first re-sign it with their key. If the number of blocks does not exceed Mn since processing was initiated by the previous operator, the signature of the initial operator is kept. If the number of blocks exceeds Mn, the transaction can be re-signed by any operator.</p><p>Solana çš„æ•´ä¸ªå†å²éƒ½å­˜å‚¨åœ¨ Solana çŠ¶æ€ä¸­ã€‚ä½¿ç”¨æ­¤å†å²è®°å½•ï¼Œè¿è¥æ–¹å¯ä»¥è·å¾—ä¸ Neon EVM ç›¸å…³æ‰€æœ‰äº¤æ˜“çš„å¿…è¦ä¿¡æ¯ã€‚ä»£ç†å¯ä»¥è·Ÿè¸ªå†å²ä¸­ä¸å®Œæ•´çš„äº¤æ˜“ï¼Œå³å¯ä»¥ç”±å¦ä¸€ä¸ªè¿è¥æ–¹ç»§ç»­çš„äº¤æ˜“ã€‚å¸Œæœ›ç»§ç»­æ‰§è¡Œæœªå®Œæˆäº¤æ˜“çš„è¿è¥æ–¹å¿…é¡»é¦–å…ˆç”¨ä»–ä»¬çš„å¯†é’¥é‡æ–°ç­¾åã€‚å¦‚æœä»å‰ä¸€ä¸ªè¿è¥æ–¹å¯åŠ¨å¤„ç†æ—¶åˆ°å½“å‰çš„å—æ•°ä¸è¶…è¿‡ Mnï¼Œåˆ™ä¿ç•™åˆå§‹è¿è¥æ–¹çš„ç­¾åã€‚å¦‚æœå—æ•°è¶…è¿‡ Mnï¼Œåˆ™äº¤æ˜“å¯ä»¥ç”±ä»»ä½•è¿è¥æ–¹é‡æ–°ç­¾åã€‚</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="ç‰¹ä¾‹special-cases">ç‰¹ä¾‹(Special Cases)<a class="hash-link" href="#ç‰¹ä¾‹special-cases" title="Direct link to heading">â€‹</a></h4><p>Case 1: one of the initial and mandatory operations is blocking an account. That is, the execution of other transactions is blocked for an amount of time.<br>
<!-- -->ç‰¹ä¾‹ 1ï¼šåˆå§‹å’Œå¼ºåˆ¶æ“ä½œä¹‹ä¸€æ˜¯å°é—­å¸æˆ·ã€‚å³å…¶ä»–äº¤æ˜“çš„æ‰§è¡Œè¢«é˜»å¡äº†ä¸€æ®µæ—¶é—´ã€‚</p><p>If an operator is interested in reducing this amount of time, they must complete a transaction in Mn blocks, otherwise another operator will perform this transaction.</p><p>å¦‚æœä¸€ä¸ªè¿è¥æ–¹æœ‰å…´è¶£å‡å°‘è¿™ä¸ªæ—¶é—´é‡ï¼Œä»–ä»¬å¿…é¡»åœ¨ Mn ä¸ªå—ä¸­å®Œæˆä¸€ä¸ªäº¤æ˜“ï¼Œå¦åˆ™å¦ä¸€ä¸ªè¿è¥æ–¹å°†æ‰§è¡Œè¿™ä¸ªäº¤æ˜“ã€‚</p><p>For example (see Fig. 2), to go from Step 1 to Step 2), Operator 1 must process Mn blocks. During this time, the &quot;Continue&quot; operation will not be available to other operators. If Operator 1 is unable to complete a transaction during the processing of Mn blocks, this transaction remains incomplete. The funds on the balance are burned out.</p><p>Therefore, it is in every operatorâ€™s best interest to use high-speed resources.</p><p>ä¾‹å¦‚(è§å›¾ 2)ï¼Œè¦ä»æ­¥éª¤ 1 è½¬åˆ°æ­¥éª¤ 2)ï¼Œè¿è¥æ–¹1 å¿…é¡»å¤„ç† Mn ä¸ªå—ã€‚åœ¨æ­¤æœŸé—´ï¼Œå…¶ä»–è¿è¥æ–¹å°†æ— æ³•ä½¿ç”¨â€œç»§ç»­â€æ“ä½œã€‚å¦‚æœè¿è¥æ–¹1 åœ¨å¤„ç† Mn ä¸ªå—çš„è¿‡ç¨‹ä¸­æ— æ³•å®Œæˆä¸€ç¬”äº¤æ˜“ï¼Œåˆ™è¯¥ç¬”äº¤æ˜“ä»ç„¶æ˜¯ä¸å®Œæ•´çš„ã€‚ä½™é¢ä¸­çš„èµ„é‡‘è¢«â€œçƒ§â€å…‰äº†ã€‚å› æ­¤ï¼Œä½¿ç”¨é«˜é€Ÿèµ„æºç¬¦åˆæ¯ä¸ªè¿è¥æ–¹çš„æœ€å¤§åˆ©ç›Šã€‚</p><p>Case 2: a transaction cannot be completed if an error occurs.<br>
<!-- -->ç‰¹ä¾‹ 2ï¼šå¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™æ— æ³•å®Œæˆäº¤æ˜“ã€‚</p><p>If Step 1 is completed, and &quot;Cancel&quot; occurred in Step 2, the funds are not returned to the operator. Funds cannot be withdrawn from a client for the partial execution of a transaction. The funds are also not returned to the client. In this case, the funds on the deposit will be burned. To avoid losing funds, the operator is compelled to complete the transaction in full, not in part.</p><p>å¦‚æœæ­¥éª¤ 1 å®Œæˆï¼Œå¹¶ä¸”åœ¨æ­¥éª¤ 2 ä¸­å‘ç”Ÿâ€œå–æ¶ˆâ€ï¼Œåˆ™èµ„é‡‘ä¸ä¼šé€€è¿˜ç»™è¿è¥æ–¹ã€‚éƒ¨åˆ†æ‰§è¡Œæ˜¯ä¸èƒ½ä»å®¢æˆ·ç«¯æç°çš„ã€‚èµ„é‡‘ä¹Ÿä¸ä¼šé€€è¿˜ç»™å®¢æˆ·ç«¯ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå­˜å…¥çš„èµ„é‡‘å°†è¢«çƒ§æ¯ã€‚ä¸ºäº†é¿å…æŸå¤±èµ„é‡‘ï¼Œè¿è¥æ–¹ä¼šè¢«è¿«å®Œæ•´æ‰§è¡Œäº¤æ˜“ï¼Œè€Œä¸æ˜¯éƒ¨åˆ†å®Œæˆã€‚</p><p>Case 3: Insufficient funds.<br>
<!-- -->ç‰¹ä¾‹ 3ï¼šèµ„é‡‘ä¸è¶³ã€‚</p><p>Before executing a transaction, two things are checked: the userâ€™s account balance , and whether the gas limit will be exceeded. If there is a shortage of funds during any of the steps, the transaction is labelled as &quot;Fail&quot; and funds are debited from the user&#x27;s account and transferred to the operator&#x27;s account.</p><p>åœ¨æ‰§è¡Œäº¤æ˜“ä¹‹å‰ï¼Œä¸¤ä»¶äº‹ä¼šè¢«æ£€æŸ¥ï¼šç”¨æˆ·çš„è´¦æˆ·ä½™é¢ï¼Œä»¥åŠæ˜¯å¦ä¼šè¶…è¿‡ gasä¸Šçº¿ã€‚å¦‚æœåœ¨ä»»ä½•ä¸€ä¸ªæ­¥éª¤ä¸­å‡ºç°èµ„é‡‘çŸ­ç¼ºï¼Œäº¤æ˜“å°†è¢«æ ‡è®°ä¸ºâ€œå¤±è´¥â€ï¼Œèµ„é‡‘å°†ä»ç”¨æˆ·è´¦æˆ·ä¸­æ‰£é™¤å¹¶è½¬å…¥è¿è¥æ–¹è´¦æˆ·ã€‚</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="solanaå†…éƒ¨ä»£å¸è½¬è´¦transferring-tokens-inside-solana">Solanaå†…éƒ¨ä»£å¸è½¬è´¦(Transferring Tokens Inside Solana)<a class="hash-link" href="#solanaå†…éƒ¨ä»£å¸è½¬è´¦transferring-tokens-inside-solana" title="Direct link to heading">â€‹</a></h3><p>The ERC-20 wrapper, a special dApp (contract) with token balances, has been created. Application users know the address of this dApp. To transfer funds, they need to contact this dApp address and specify an account and the amount of funds to transfer. The transfer will take place within this contract.</p><p>ERC-20å°è£…å™¨ï¼Œä¸€ä¸ªå«æœ‰ä»£å¸ä½™é¢çš„ç‰¹æ®Š dApp(åˆçº¦)ï¼Œå·²ç»è¢«åˆ›å»ºã€‚åº”ç”¨çš„ç”¨æˆ·çŸ¥é“è¿™ä¸ª dApp çš„åœ°å€ã€‚è¦è½¬ç§»èµ„é‡‘ï¼Œä»–ä»¬éœ€è¦è”ç³»è¿™ä¸ª dApp çš„åœ°å€ï¼Œå¹¶æŒ‡å®šä¸€ä¸ªå¸æˆ·å’Œè½¬ç§»çš„èµ„é‡‘è§„æ¨¡ã€‚è½¬ç§»å°†åœ¨è¿™ä¸ªåˆçº¦å†…è¿›è¡Œã€‚</p><p>The interaction between the SPL token and ERC-20 TKN is shown in Fig.3.</p><p>SPL ä»£å¸ä¸ ERC-20 TKN ä¹‹é—´çš„äº¤äº’å¦‚å›¾3æ‰€ç¤ºã€‚</p><p><img loading="lazy" src="/neonwp/assets/images/03-3277966fbc703aa27f2a831f5fbe4d96.png" width="870" height="400" class="img_E7b_">  </p><p>å›¾ 3</p><p>There are two user balances:<br>
<!-- -->æœ‰ä¸¤ä¸ªç”¨æˆ·ä½™é¢ï¼š</p><ul><li><p>User SPL Balance, whose tokens are traded within Solana.<br>
<!-- -->åœ¨ Solana å†…äº¤æ˜“çš„ç”¨æˆ· SPL ä½™é¢ï¼Œã€‚</p></li><li><p>User ERC20 Balance, whose tokens are traded within Neon EVM.<br>
<!-- -->åœ¨ Neon EVM å†…äº¤æ˜“çš„ç”¨æˆ· ERC20 ä½™é¢</p></li></ul><p>The ERC-20 wrapper allows users to transfer their SPL tokens on the ERC-20 Balance, exchange them for tokens they need, and withdraw them back. Thus, a user can create a token inside Neon EVM and transfer any number of coins from User SPL Balance to User ERC-20 Balance. Then, using EVM contracts, they can use these coins.</p><p>ERC-20 å°è£…å™¨å…è®¸ç”¨æˆ·åœ¨ ERC-20 ä½™é¢ä¸Šè½¬ç§»ä»–ä»¬çš„ SPL ä»£å¸ï¼Œå°†å…¶å…‘æ¢æˆä»–ä»¬éœ€è¦çš„ä»£å¸ï¼Œç„¶åå°†å…¶å–å›ã€‚å› æ­¤ï¼Œç”¨æˆ·å¯ä»¥åœ¨ Neon EVM ä¸­åˆ›å»ºä¸€ä¸ªä»£å¸ï¼Œå¹¶å°†ä»»æ„æ•°é‡çš„ä»£ä»ç”¨æˆ· SPL ä½™é¢è½¬ç§»åˆ°ç”¨æˆ· ERC-20 ä½™é¢ã€‚ç„¶åï¼Œä½¿ç”¨ EVM åˆçº¦ï¼Œä»–ä»¬å¯ä»¥ä½¿ç”¨è¿™äº›ç¡¬å¸ã€‚</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="æ”¯ä»˜é˜Ÿåˆ—payment-queues">æ”¯ä»˜é˜Ÿåˆ—(Payment Queues)<a class="hash-link" href="#æ”¯ä»˜é˜Ÿåˆ—payment-queues" title="Direct link to heading">â€‹</a></h4><p><strong>é—®é¢˜(The Issue)</strong></p><p>If the ERC-20 TKN contract contains only one map for all users and their balances, it can result in an issue: if the majority of users pay with ETH tokens, then the same contract will appear inside each N-trx, where the value will need to be changed.</p><p>å¦‚æœ ERC-20 TKN åˆçº¦åªåŒ…å«ä¸€ä¸ªæ‰€æœ‰ç”¨æˆ·åŠå…¶ä½™é¢çš„æ˜ å°„ï¼Œåˆ™å¯èƒ½ä¼šå¯¼è‡´ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœå¤§å¤šæ•°ç”¨æˆ·ä½¿ç”¨ ETH ä»£å¸æ”¯ä»˜ï¼Œé‚£ä¹ˆç›¸åŒçš„åˆçº¦å°†å‡ºç°åœ¨æ•°é¢éœ€è¦å˜åŒ–çš„æ¯ä¸ªNäº¤æ˜“ä¸­ã€‚</p><p>This will cause all N-trxes to line up â€œsingle fileâ€ and they cannot be executed in parallel.This is because at the final step, the funds would be transferred from the user&#x27;s balance to the operator&#x27;s balance within one contract.</p><p>è¿™å°†å¯¼è‡´æ‰€æœ‰Näº¤æ˜“æ’æˆâ€œå•ä¸ªæ–‡ä»¶â€ä¸”æ— æ³•å¹¶è¡Œæ‰§è¡Œã€‚è¿™æ˜¯å› ä¸ºåœ¨æœ€åä¸€æ­¥ï¼Œèµ„é‡‘å°†åœ¨ä¸€ä¸ªåˆçº¦å†…ä»ç”¨æˆ·çš„ä½™é¢è½¬ç§»åˆ°è¿è¥æ–¹çš„ä½™é¢ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ(The Solution)</strong></p><p>The default token type field is added to the Neon account along with the balance. This field provides a special option that will allow a user to select a type of token for payment. The ERC-20 wrapper can be used to transfer SPL tokens from outside to an operator&#x27;s account.</p><p>é»˜è®¤ä»£å¸ç±»å‹å­—æ®µä¸ä½™é¢è¢«ä¸€èµ·æ·»åŠ åˆ°äº† Neon å¸æˆ·ã€‚è¯¥å­—æ®µæä¾›äº†ä¸€ä¸ªç‰¹æ®Šé€‰é¡¹ï¼Œå…è®¸ç”¨æˆ·é€‰æ‹©æŸç§ä»£å¸è¿›è¡Œæ”¯ä»˜ã€‚ ERC-20 å°è£…å™¨å¯ç”¨äºå°† SPL ä»£å¸ä»å¤–éƒ¨è½¬ç§»åˆ°è¿è¥æ–¹çš„è´¦æˆ·ã€‚</p><p>The Neon client does not have an option to select a type of token for payment, and can only operate with ETH. Therefore, the storage of funds is implemented in the user&#x27;s Solana state. The Neon account (user-acc) has a separate field that specifies the type of token. After a user specifies a type of token, this type will be indicated in the account field of this user. Having this information, Solana can use the ERC-20 wrapper to convert tokens.</p><p>Neon å®¢æˆ·ç«¯æ²¡æœ‰é€‰æ‹©æ”¯ä»˜ä»£å¸ç±»å‹çš„é€‰é¡¹ï¼Œåªèƒ½ä½¿ç”¨ ETH æ“ä½œã€‚å› æ­¤ï¼Œèµ„é‡‘çš„å­˜å‚¨æ˜¯åœ¨ç”¨æˆ·çš„ Solana çŠ¶æ€ä¸‹å®ç°çš„ã€‚Neon å¸æˆ· (user-acc) æœ‰ä¸€ä¸ªå•ç‹¬çš„å­—æ®µï¼Œç”¨äºæŒ‡å®šä»£å¸çš„ç±»å‹ã€‚ç”¨æˆ·æŒ‡å®šä»£å¸ç±»å‹åï¼Œè¯¥ç±»å‹å°†åœ¨è¯¥ç”¨æˆ·çš„å¸æˆ·å­—æ®µä¸­è¡¨æ˜ã€‚æœ‰äº†è¿™äº›ä¿¡æ¯ï¼ŒSolana å°±å¯ä»¥ä½¿ç”¨ ERC-20 å°è£…å™¨æ¥è½¬æ¢ä»£å¸ã€‚</p><p>An operator creates a deposit account for the transaction. It is possible to create a pool of such deposit accounts so that the ERC-20 wrapper logic will select the desired transaction from this pool rather than creating a queue for the payment of funds to the operator.</p><p>è¿è¥æ–¹ä¸ºäº¤æ˜“åˆ›å»ºä¸€ä¸ªå­˜æ¬¾è´¦æˆ·ã€‚ä»¥ä¸‹æ–¹æ³•æ˜¯å¯è¡Œçš„ï¼šåˆ›å»ºä¸€ä¸ªæ­¤ç±»å­˜æ¬¾è´¦æˆ·æ± ï¼Œä»è€Œè®©ERC-20 å°è£…å™¨é€»è¾‘ä»è¯¥æ± ä¸­é€‰æ‹©æ‰€éœ€çš„äº¤æ˜“ï¼Œè€Œä¸æ˜¯åˆ›å»ºä¸€ä¸ªç”¨äºå‘è¿è¥æ–¹æ”¯ä»˜èµ„é‡‘çš„é˜Ÿåˆ—ã€‚</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="solanaå’Œethäº’ç›¸è½¬è´¦transferring-tokens-between-solana-and-ethereum">Solanaå’ŒETHäº’ç›¸è½¬è´¦(Transferring tokens between Solana and Ethereum)<a class="hash-link" href="#solanaå’Œethäº’ç›¸è½¬è´¦transferring-tokens-between-solana-and-ethereum" title="Direct link to heading">â€‹</a></h3><p>The ERC-20 wrapper allows users to manipulate balances inside SPL tokens. The user runs an application inside Neon EVM with logic that releases new coins. To transfer these coins to the outside world, they need to use the ERC-20 bridge implementation. Inside Neon EVM, these coins will be blocked and transferred inside the SPL token to different addresses. They will become liquid inside Solana, but under a different token name, which is registered inside Solana.</p><p>ERC-20 å°è£…å™¨å…è®¸ç”¨æˆ·è°ƒæ•´ SPL ä»£å¸å†…çš„ä½™é¢ã€‚ç”¨æˆ·åœ¨ Neon EVM ä¸­è¿è¡Œä¸€ä¸ªé€»è¾‘æ˜¯å‘å¸ƒæ–°å¸åº”ç”¨ã€‚è‹¥è¦å°†è¿™äº›ç¡¬å¸è½¬ç§»åˆ°å¤–éƒ¨ï¼Œä»–ä»¬éœ€è¦ä½¿ç”¨ ERC-20 è·¨é“¾æ¡¥å®ç°ã€‚åœ¨ Neon EVM å†…éƒ¨ï¼Œè¿™äº›ç¡¬å¸å°†åœ¨ SPL ä»£å¸ä¸­è¢«å°é”å¹¶è½¬ç§»åˆ°ä¸åŒçš„åœ°å€ã€‚å®ƒä»¬å°†åœ¨ Solana å†…éƒ¨æµé€šï¼Œä½†ä½¿ç”¨åœ¨ Solana å†…éƒ¨æ³¨å†Œçš„å¦å¤–åç§°ã€‚</p><p>A user also can transfer part of the funds to their balance inside Neon EVM and convert it into a new token using a token exchange algorithm of their choice.</p><p>ç”¨æˆ·è¿˜å¯ä»¥å°†éƒ¨åˆ†èµ„é‡‘è½¬ç§»åˆ°ä»–ä»¬åœ¨ Neon EVM ä¸­çš„ä½™é¢ä¸­ï¼Œå¹¶ä½¿ç”¨ä»–ä»¬é€‰æ‹©çš„ä»£å¸äº¤æ¢ç®—æ³•å°†å…¶è½¬æ¢ä¸ºæ–°çš„ä»£å¸ã€‚</p><p>Fig. 4 shows the process for transferring tokens between Solana and Ethereum.</p><p>å›¾ 4 æ˜¾ç¤ºäº†åœ¨ Solana å’Œä»¥å¤ªåŠä¹‹é—´è½¬ç§»ä»£å¸çš„è¿‡ç¨‹ã€‚</p><p><img loading="lazy" src="/neonwp/assets/images/04-af45f6c400c1bf5923ad487ab721b541.png" width="828" height="162" class="img_E7b_">  </p><p>(å›¾ 4)</p><p>Ethereum tokens are generated in accordance with the ERC-20 standard. Therefore, to transfer tokens between the Solana and Ethereum blockchains, a separate ERC-20 wrapper must be deployed for each Solana token. The ERC-20 wrapperâ€™s job is to ensure that the Solana applications interact with EVM (Solidity, Vyper, etc.) bytecode contracts, as well as to transfer funds in Solana tokens using Ethereum wallets such as MetaMask.</p><p>ä»¥å¤ªåŠä»£å¸æ˜¯æ ¹æ® ERC-20 æ ‡å‡†ç”Ÿæˆçš„ã€‚å› æ­¤ï¼Œè¦åœ¨ Solana å’Œ Ethereum åŒºå—é“¾ä¹‹é—´è½¬ç§»ä»£å¸ï¼Œå¿…é¡»ä¸ºæ¯ä¸ª Solana ä»£å¸éƒ¨ç½²å•ç‹¬çš„ ERC-20 å°è£…å™¨ã€‚ ERC-20 å°è£…å™¨çš„å·¥ä½œæ˜¯ç¡®ä¿ Solana åº”ç”¨ç¨‹åºä¸ EVM(Solidityã€Vyper ç­‰)å­—èŠ‚ç åˆçº¦äº¤äº’ï¼Œä»¥åŠä½¿ç”¨ MetaMask ç­‰ä»¥å¤ªåŠé’±åŒ…ä»¥ Solana ä»£å¸è½¬ç§»èµ„é‡‘ã€‚</p><p>The main interacting component in the token transfer is the ERC-20 bridge, which is a separate contract. When itâ€™s called, it generates a Solana token, which represents the corresponding ERC-20 token in the SPL token contract. The Solana tokens registered in the SPL token contract can be transferred to Solana contracts.</p><p>ä»£å¸è½¬ç§»ä¸­çš„ä¸»è¦äº¤äº’ç»„ä»¶æ˜¯ ERC-20 è·¨é“¾æ¡¥ï¼Œå®ƒæ˜¯ä¸€ä¸ªå•ç‹¬çš„åˆçº¦ã€‚å½“å®ƒè¢«è°ƒç”¨æ—¶ï¼Œå®ƒä¼šç”Ÿæˆä¸€ä¸ª Solana ä»£å¸ï¼Œå®ƒä»£è¡¨äº† SPL ä»£å¸åˆçº¦ä¸­å¯¹åº”çš„ ERC-20 ä»£å¸ã€‚åœ¨ SPL ä»£å¸åˆçº¦ä¸­æ³¨å†Œçš„ Solana ä»£å¸å¯ä»¥è½¬ç§»åˆ° Solana åˆçº¦ä¸­ã€‚</p><p>Bridge operators are responsible for the ERC-20 bridge operation. They get fees from the conversion of tokens.</p><p>è·¨é“¾æ¡¥è¿è¥æ–¹è´Ÿè´£ ERC-20 è·¨é“¾æ¡¥çš„è¿è¥ã€‚ä»–ä»¬ä»ä»£å¸è½¬æ¢ä¸­è·å¾—è´¹ç”¨ã€‚</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/09Architecture/01Neon EVM Architecture Overview.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/neonwp/08env/02Neon Proxy RPC Endpoints"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Neonä»£ç† RPCç«¯ç‚¹ (Neon Proxy RPC Endpoints)</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/neonwp/09Architecture/02Ethereum and 02Solana Capabilities in a single Solution"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ä»¥å¤ªåŠå’Œ Solana æ€§èƒ½çš„ç»Ÿä¸€è§£å†³æ–¹æ¡ˆ (Ethereum and Solana Capabilities in a single Solution)</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#æ¦‚è¿°-general" class="table-of-contents__link toc-highlight">æ¦‚è¿° (General)</a></li><li><a href="#è§£å†³æ–¹æ¡ˆsolution" class="table-of-contents__link toc-highlight">è§£å†³æ–¹æ¡ˆ(Solution)</a><ul><li><a href="#neon-evmç”¨æˆ·-neon-evm-user-user" class="table-of-contents__link toc-highlight">Neon EVMç”¨æˆ· (Neon EVM User ,user)</a></li><li><a href="#säº¤æ˜“-solana-transaction-s-trx" class="table-of-contents__link toc-highlight">Säº¤æ˜“ (Solana Transaction ,S-trx)</a></li><li><a href="#näº¤æ˜“-neon-transaction-n-trx" class="table-of-contents__link toc-highlight">Näº¤æ˜“ (Neon Transaction ,N-trx)</a></li><li><a href="#å®¢æˆ·ç«¯-neon-evm-client--client" class="table-of-contents__link toc-highlight">å®¢æˆ·ç«¯ (Neon EVM Client , client)</a></li><li><a href="#è¿è¥æ–¹è¿è¥å•†neon-evm-operator-operator" class="table-of-contents__link toc-highlight">è¿è¥æ–¹/è¿è¥å•†(Neon EVM Operator ,operator)</a></li><li><a href="#neonä»£ç†-neon-web3-proxy-proxy" class="table-of-contents__link toc-highlight">Neonä»£ç† (Neon Web3 Proxy, proxy)</a></li><li><a href="#neon-evm" class="table-of-contents__link toc-highlight">Neon EVM</a></li><li><a href="#neon-evmæ²»ç†å‚ä¸è€…neon-evm-governance-participant" class="table-of-contents__link toc-highlight">Neon EVMæ²»ç†å‚ä¸è€…(Neon EVM Governance Participant)</a></li><li><a href="#erc-20-tkn" class="table-of-contents__link toc-highlight">ERC-20 TKN</a></li><li><a href="#splä»£å¸spl-token" class="table-of-contents__link toc-highlight">SPLä»£å¸(SPL Token)</a></li><li><a href="#solana" class="table-of-contents__link toc-highlight">Solana</a></li><li><a href="#erc-20å°è£…å™¨erc-20-wrapper" class="table-of-contents__link toc-highlight">ERC-20å°è£…å™¨(ERC-20 Wrapper)</a></li></ul></li><li><a href="#ç”¨ç»æµå­¦æ¿€åŠ±è¿è¥æ–¹using-economics-to-motivate-operators" class="table-of-contents__link toc-highlight">ç”¨ç»æµå­¦æ¿€åŠ±è¿è¥æ–¹(Using Economics to Motivate Operators)</a><ul><li><a href="#è¿è¥æ–¹å¦‚ä½•å‘ç°å·²å‡†å¤‡å¥½ç»§ç»­è¿›è¡Œçš„äº¤æ˜“how-can-operators-find-out-about-the-transactions-that-are-ready-to-be-continued" class="table-of-contents__link toc-highlight">è¿è¥æ–¹å¦‚ä½•å‘ç°å·²å‡†å¤‡å¥½ç»§ç»­è¿›è¡Œçš„äº¤æ˜“?(How can operators find out about the transactions that are ready to be continued?)</a></li><li><a href="#ç‰¹ä¾‹special-cases" class="table-of-contents__link toc-highlight">ç‰¹ä¾‹(Special Cases)</a></li></ul></li><li><a href="#solanaå†…éƒ¨ä»£å¸è½¬è´¦transferring-tokens-inside-solana" class="table-of-contents__link toc-highlight">Solanaå†…éƒ¨ä»£å¸è½¬è´¦(Transferring Tokens Inside Solana)</a><ul><li><a href="#æ”¯ä»˜é˜Ÿåˆ—payment-queues" class="table-of-contents__link toc-highlight">æ”¯ä»˜é˜Ÿåˆ—(Payment Queues)</a></li></ul></li><li><a href="#solanaå’Œethäº’ç›¸è½¬è´¦transferring-tokens-between-solana-and-ethereum" class="table-of-contents__link toc-highlight">Solanaå’ŒETHäº’ç›¸è½¬è´¦(Transferring tokens between Solana and Ethereum)</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/neonwp/">Doc list</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/Chainguys" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Chainguys" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/neonwp/assets/js/runtime~main.b330dfd2.js"></script>
<script src="/neonwp/assets/js/main.ca07df00.js"></script>
</body>
</html>
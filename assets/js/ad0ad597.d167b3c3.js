"use strict";(self.webpackChunkneonwp=self.webpackChunkneonwp||[]).push([[7198],{3905:function(e,t,n){n.d(t,{Zo:function(){return k},kt:function(){return d}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},k=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,k=i(e,["components","mdxType","originalType","parentName"]),u=s(n),d=r,c=u["".concat(p,".").concat(d)]||u[d]||m[d]||o;return n?a.createElement(c,l(l({ref:t},k),{},{components:n})):a.createElement(c,l({ref:t},k))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=u;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var s=2;s<o;s++)l[s]=n[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},8026:function(e,t,n){n.r(t),n.d(t,{assets:function(){return k},contentTitle:function(){return p},default:function(){return d},frontMatter:function(){return i},metadata:function(){return s},toc:function(){return m}});var a=n(7462),r=n(3366),o=(n(7294),n(3905)),l=["components"],i={sidebar_position:2,title:"\u8fd0\u884c\u4ee3\u7406\u670d\u52a1\u5668 (Running a Proxy server)"},p=void 0,s={unversionedId:"06operating/02running_a_poxy_server",id:"06operating/02running_a_poxy_server",title:"\u8fd0\u884c\u4ee3\u7406\u670d\u52a1\u5668 (Running a Proxy server)",description:"This guide is for people who want to register with Neon EVM as a proxy operator for processing transactions on Solana. It is assumed these people have previous experience compiling Solana-based blockchain nodes or have worked as blockchain validators.",source:"@site/docs/06operating/02running_a_poxy_server.md",sourceDirName:"06operating",slug:"/06operating/02running_a_poxy_server",permalink:"/neonwp/06operating/02running_a_poxy_server",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/06operating/02running_a_poxy_server.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"\u8fd0\u884c\u4ee3\u7406\u670d\u52a1\u5668 (Running a Proxy server)"},sidebar:"tutorialSidebar",previous:{title:"\u8fd0\u8425\u65b9\u9700\u6c42 (Operator Requirements)",permalink:"/neonwp/06operating/01OR"},next:{title:"\u793e\u533a\u6cbb\u7406\u6982\u8981 (Governance Overview)",permalink:"/neonwp/07gov/01Governance Overview"}},k={},m=[{value:"\u5bfc\u8a00 (Introduction)",id:"\u5bfc\u8a00-introduction",level:3},{value:"\u4ee3\u7406\u8fd0\u8425\u65b9\u7684\u804c\u8d23(Duties of a Proxy Operator)",id:"\u4ee3\u7406\u8fd0\u8425\u65b9\u7684\u804c\u8d23duties-of-a-proxy-operator",level:3},{value:"\u4f7f\u7528Docker\u5b89\u88c5(Installation Using Docker)",id:"\u4f7f\u7528docker\u5b89\u88c5installation-using-docker",level:3},{value:"\u8fd0\u884c\u5b88\u62a4\u8fdb\u7a0b(Run a daemon)",id:"\u8fd0\u884c\u5b88\u62a4\u8fdb\u7a0brun-a-daemon",level:4},{value:"\u5728Docker\u5bb9\u5668\u4e2d\u5f00\u59cb\u8fd0\u884c\u4ee3\u7406(Start a proxy in a Docker container)",id:"\u5728docker\u5bb9\u5668\u4e2d\u5f00\u59cb\u8fd0\u884c\u4ee3\u7406start-a-proxy-in-a-docker-container",level:4},{value:"CONFIG \u7684\u503c(CONFIG values)",id:"config-\u7684\u503cconfig-values",level:4}],u={toc:m};function d(e){var t=e.components,n=(0,r.Z)(e,l);return(0,o.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"This guide is for people who want to register with Neon EVM as a proxy operator for processing transactions on Solana. It is assumed these people have previous experience compiling Solana-based blockchain nodes or have worked as blockchain validators.")),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"\u672c\u6307\u5357\u9002\u7528\u4e8e\u60f3\u8981\u6ce8\u518c Neon EVM \u4f5c\u4e3a\u4ee3\u7406\u8fd0\u8425\u65b9\uff0c\u5e76\u5728 Solana \u5904\u7406\u4ea4\u6613\u7684\u4eba\u3002\u5047\u5b9a\u8fd9\u4e9b\u4eba\u4ee5\u524d\u6709\u7f16\u8bd1\u57fa\u4e8eSolana \u533a\u5757\u94fe\u8282\u70b9\u7684\u7ecf\u9a8c\uff0c\u6216\u66fe\u62c5\u4efb\u533a\u5757\u94fe\u9a8c\u8bc1\u8005\u3002")),(0,o.kt)("h3",{id:"\u5bfc\u8a00-introduction"},"\u5bfc\u8a00 (Introduction)"),(0,o.kt)("p",null,"Ethereum users have the opportunity to run their smart contract-based applications on Solana via Neon EVM. Smart contracts generate transactions in accordance with the Ethereum rules and submit them to Neon EVM. Since the structures of Ethereum and Solana transactions differ from each other, Neon EVM contains special proxy servers that are responsible for converting and executing transactions in Solana. These servers are configured and maintained by Neon EVM proxy operators."),(0,o.kt)("p",null,"\u4ee5\u592a\u574a\u7528\u6237\u73b0\u5728\u6709\u673a\u4f1a\u901a\u8fc7 Neon EVM \u5728 Solana \u4e0a\u8fd0\u884c\u4ed6\u4eec\u57fa\u4e8e\u667a\u80fd\u5408\u7ea6\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\u667a\u80fd\u5408\u7ea6\u6839\u636e\u4ee5\u592a\u574a\u89c4\u5219\u751f\u6210\u4ea4\u6613\u5e76\u63d0\u4ea4\u7ed9 Neon EVM\u3002\u7531\u4e8e\u4ee5\u592a\u574a\u548c Solana \u4ea4\u6613\u7684\u7ed3\u6784\u5f7c\u6b64\u4e0d\u540c\uff0cNeon EVM \u5305\u542b\u7279\u6b8a\u7684\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u8d1f\u8d23\u5728 Solana \u4e2d\u8f6c\u6362\u548c\u6267\u884c\u4ea4\u6613\u3002\u8fd9\u4e9b\u670d\u52a1\u5668\u7531 Neon EVM \u4ee3\u7406\u8fd0\u8425\u65b9\u914d\u7f6e\u548c\u7ef4\u62a4\u3002"),(0,o.kt)("p",null,"This guide contains a list of the proxy operator\u2019s duties, as well as instructions to ensure the successful operation of a proxy and the successful execution of transactions."),(0,o.kt)("p",null,"\u672c\u8bf4\u660e\u5305\u542b\u4ee3\u7406\u8fd0\u8425\u65b9\u7684\u804c\u8d23\u6e05\u5355\uff0c\u4ee5\u53ca\u786e\u4fdd\u4ee3\u7406\u6210\u529f\u8fd0\u8425\u548c\u4ea4\u6613\u6210\u529f\u6267\u884c\u7684\u8bf4\u660e\u3002"),(0,o.kt)("h3",{id:"\u4ee3\u7406\u8fd0\u8425\u65b9\u7684\u804c\u8d23duties-of-a-proxy-operator"},"\u4ee3\u7406\u8fd0\u8425\u65b9\u7684\u804c\u8d23(Duties of a Proxy Operator)"),(0,o.kt)("p",null,"A proxy operator\u2019s main task is to install software on a server to accept a transaction formed according to Ethereum rules, and to ensure its execution in Solana. This involves:"),(0,o.kt)("p",null,"\u4ee3\u7406\u8fd0\u8425\u65b9\u7684\u4e3b\u8981\u4efb\u52a1\u662f\u5728\u670d\u52a1\u5668\u4e0a\u5b89\u88c5\u8f6f\u4ef6\u4ee5\u63a5\u6536\u6839\u636e\u4ee5\u592a\u574a\u89c4\u5219\u5f62\u6210\u7684\u4ea4\u6613\uff0c\u5e76\u786e\u4fdd\u5176\u5728 Solana \u4e2d\u6267\u884c\u3002\u8fd9\u6d89\u53ca\uff1a  "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Configuring a proxy server to perform the following operations:",(0,o.kt)("br",{parentName:"p"}),"\n","\u914d\u7f6e\u4ee3\u7406\u670d\u52a1\u5668\u6765\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Receiving requests over Web3 API protocol.",(0,o.kt)("br",{parentName:"p"}),"\n","\u901a\u8fc7Web3 API\u534f\u8bae\u63a5\u6536\u8bf7\u6c42\u3002")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Shaping responses using Web3 API protocol.",(0,o.kt)("br",{parentName:"p"}),"\n","\u4f7f\u7528 Web3 API \u534f\u8bae(\u7f16\u8f91)\u5851\u9020\u54cd\u5e94\u3002")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Converting transactions to Solana format.",(0,o.kt)("br",{parentName:"p"}),"\n","\u5c06\u4ea4\u6613\u8f6c\u6362\u4e3a Solana \u683c\u5f0f\u3002")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Connecting a proxy server to a Solana cluster RPC endpoint.",(0,o.kt)("br",{parentName:"p"}),"\n","\u5c06\u4ee3\u7406\u670d\u52a1\u5668\u8fde\u63a5\u5230 Solana \u96c6\u7fa4 RPC \u7aef\u70b9\u3002")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Successfully executing transactions.",(0,o.kt)("br",{parentName:"p"}),"\n","\u6210\u529f\u6267\u884c\u4ea4\u6613\u3002"))),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"All operations related to the execution of transactions on Solana are performed by the software installed on your node."),(0,o.kt)("p",{parentName:"blockquote"},"\u5728 Solana \u4e0a\u6267\u884c\u4ea4\u6613\u76f8\u5173\u7684\u64cd\u4f5c,\u90fd\u7531\u5b89\u88c5\u5728\u60a8\u8282\u70b9\u4e0a\u7684\u8f6f\u4ef6\u6267\u884c\u3002")),(0,o.kt)("h3",{id:"\u4f7f\u7528docker\u5b89\u88c5installation-using-docker"},"\u4f7f\u7528Docker\u5b89\u88c5(Installation Using Docker)"),(0,o.kt)("p",null,"After you have chosen the node (Neon EVM proxy) that meets the listed recommendations, you can start installing a proxy operator software on it."),(0,o.kt)("p",null,"\u9009\u62e9\u6ee1\u8db3\u6240\u5217\u5efa\u8bae\u7684\u8282\u70b9(Neon EVM \u4ee3\u7406)\u540e\uff0c\u60a8\u53ef\u4ee5\u5f00\u59cb\u5728\u5176\u4e0a\u5b89\u88c5\u4ee3\u7406\u8fd0\u8425\u65b9\u8f6f\u4ef6\u3002"),(0,o.kt)("h4",{id:"\u8fd0\u884c\u5b88\u62a4\u8fdb\u7a0brun-a-daemon"},"\u8fd0\u884c\u5b88\u62a4\u8fdb\u7a0b(Run a daemon)"),(0,o.kt)("p",null,"Make sure that you have a daemon running. If you see something like:",(0,o.kt)("br",{parentName:"p"}),"\n","\u786e\u4fdd\u5b88\u62a4\u8fdb\u7a0b\u5df2\u7ecf\u8fd0\u884c\u3002\u5982\u679c\u4f60\u770b\u5230:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ docker info\n\nCannot connect to the Docker daemon at <docker.sock>. Is the docker daemon running?\n")),(0,o.kt)("p",null,"you need to run the daemon and PostgreSQL services first:",(0,o.kt)("br",{parentName:"p"}),"\n","\u90a3\u4f60\u9700\u8981\u5148\u8fd0\u884c\u5b88\u62a4\u8fdb\u7a0b\u548cPostgreSQL\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ sudo systemctl start docker\n$ sudo docker run --rm -ti --network=host -e POSTGRES_HOST=<localhost|postgres> -e POSTGRES_DB=<database> -e POSTGRES_USER=<username> -e POSTGRES_PASSWORD=<password> --name=postgres postgres:14.0\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"The command line options:"),"\n\u547d\u4ee4\u884c\u9009\u9879\uff1a"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"--rm \u2014")," delete a container when the command is completed.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"--rm \u2014")," \u547d\u4ee4\u5b8c\u6210\u540e\u5220\u9664\u5bb9\u5668\u3002"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"-ti \u2014")," allocate a pseudo-TTY connected to the container\u2019s stdin; creating an interactive bash shell in the container.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"-ti \u2014")," \u5206\u914d\u4e00\u4e2a\u8fde\u63a5\u5230\u5bb9\u5668\u6807\u51c6\u8f93\u5165\u7684\u4f2a TTY\uff1b\u5728\u5bb9\u5668\u4e2d\u521b\u5efa\u4ea4\u4e92\u5f0f bash shell\u3002"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"--network host \u2014")," use host network.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"--network host \u2014")," \u4f7f\u7528\u4e3b\u673a\u7f51\u7edc\u3002"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"-e POSTGRES_HOST=<localhost|postgres> \u2014")," specifies DB hosting; ",(0,o.kt)("inlineCode",{parentName:"p"},"localhost")," is set by default and is recommended; the parameter can be skipped if you use PostgreSQL hosted locally.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"-e POSTGRES_HOST=<localhost|postgres> \u2014"),"\u6307\u5b9a\u6570\u636e\u5e93\u6258\u7ba1\uff1b ",(0,o.kt)("inlineCode",{parentName:"p"},"localhost"),"\u63a8\u8350\u4f7f\u7528\u9ed8\u8ba4\u8bbe\u7f6e\uff1b\u5982\u679c\u60a8\u4f7f\u7528\u672c\u5730\u6258\u7ba1\u7684 PostgreSQL\uff0c\u5219\u53ef\u4ee5\u8df3\u8fc7\u8be5\u53c2\u6570\u3002"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"-e POSTGRES_DB=<database> \u2014")," specifies the name of DB; ",(0,o.kt)("inlineCode",{parentName:"p"},"neon-db")," is recommended.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"-e POSTGRES_DB=<database> \u2014")," \u6307\u5b9a\u6570\u636e\u5e93\u7684\u540d\u79f0\uff1b\u63a8\u8350\u4f7f\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"neon-db"),"\u3002"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"-e POSTGRES_USER=<username> \u2014")," specifies a username of DB; ",(0,o.kt)("inlineCode",{parentName:"p"},"neon-proxy")," is recommended.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"-e POSTGRES_USER=<username> \u2014"),"\u6307\u5b9a\u6570\u636e\u5e93\u7684\u7528\u6237\u540d\uff1b\u63a8\u8350\u4f7f\u7528",(0,o.kt)("inlineCode",{parentName:"p"},"neon-proxy")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"-e POSTGRES_PASSWORD=<password> \u2014")," specifies a username's password; ",(0,o.kt)("inlineCode",{parentName:"p"},"neon-proxy-pass")," is recommended.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"-e POSTGRES_PASSWORD=<password> \u2014")," \u6307\u5b9a\u7528\u6237\u540d\u7684\u5bc6\u7801\uff1b\u63a8\u8350\u4f7f\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"neon-proxy-pass"),"\u3002"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"--name=postgres \u2014")," specifies a version of PostgreSQL; ",(0,o.kt)("inlineCode",{parentName:"p"},"postgres:14.0")," is recommended.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"--name=postgres \u2014")," \u6307\u660ePostgreSQL\u7248\u672c;\u63a8\u8350\u4f7f\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"postgres:14.0")," \u3002"),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Example"),":",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("em",{parentName:"p"},"\u4e3e\u4f8b"),"\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ sudo docker run --rm -ti --network=host -e POSTGRES_DB=neon-db -e POSTGRES_USER=neon-proxy -e POSTGRES_PASSWORD=neon-proxy-pass --name=postgres postgres:14.0\n")),(0,o.kt)("h4",{id:"\u5728docker\u5bb9\u5668\u4e2d\u5f00\u59cb\u8fd0\u884c\u4ee3\u7406start-a-proxy-in-a-docker-container"},"\u5728Docker\u5bb9\u5668\u4e2d\u5f00\u59cb\u8fd0\u884c\u4ee3\u7406(Start a proxy in a Docker container)"),(0,o.kt)("p",null,"Create and run a proxy container on the daemon. When starting Docker, you need to set the ",(0,o.kt)("em",{parentName:"p"},"CONFIG")," environment variable, which can take one of the following values: local, devnet, testnet."),(0,o.kt)("p",null,"\u5728\u5b88\u62a4\u8fdb\u7a0b\u4e0a\u521b\u5efa\u5e76\u8fd0\u884c\u4ee3\u7406\u5bb9\u5668\u3002\u542f\u52a8 Docker \u65f6\uff0c\u9700\u8981\u8bbe\u7f6e ",(0,o.kt)("em",{parentName:"p"},"CONFIG")," \u73af\u5883\u53d8\u91cf\uff0c\u53ef\u4ee5\u91c7\u7528\u4ee5\u4e0b\u503c\u4e4b\u4e00\uff1alocal\u3001devnet\u3001testnet\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ sudo docker run --rm -ti --network=host -e CONFIG=<network> -e POSTGRES_DB=<database> -e POSTGRES_USER=<username> -e POSTGRES_PASSWORD=<password> -v <path-to-keypair-file/id.json>:/root/.config/solana/id.json neonlabsorg/proxy:v0.5.1\n")),(0,o.kt)("p",null,"The command line options:"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"-e CONFIG=<network> \u2014")," specifies a Solana network configuration; ",(0,o.kt)("inlineCode",{parentName:"p"},"CONFIG=devnet")," is recommended.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"-e CONFIG=<network> \u2014")," \u6307\u5b9a Solana \u7f51\u7edc\u914d\u7f6e\uff1b\u63a8\u8350\u4f7f\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"CONFIG=devnet"),"\u3002"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"-v <path-to-keypair-file/id.json>:/root/.config/solana/id.json \u2014")," specifies the path to the .JSON file where your keypair is stored and passes your private key to the container.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"-v <path-to-keypair-file/id.json>:/root/.config/solana/id.json \u2014")," \u6307\u5b9a\u5b58\u50a8\u5bc6\u94a5\u5bf9\u7684 .JSON \u6587\u4ef6\u7684\u8def\u5f84\uff0c\u5e76\u5c06\u60a8\u7684\u79c1\u94a5\u4f20\u9012\u7ed9\u5bb9\u5668\u3002"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"neonlabsorg/proxy:v0.5.1 \u2014")," the specific proxy image.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"neonlabsorg/proxy:v0.5.1 \u2014")," \u7279\u5b9a\u4ee3\u7406\u7684\u955c\u50cf\u3002"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"The option ",(0,o.kt)("inlineCode",{parentName:"p"},"-v <path-to-keypair-file>")," is only relevant for authorized operators. If you are not yet registered as an operator and are just about to become one, you do not need to specify this option.  "),(0,o.kt)("p",{parentName:"blockquote"},"\u9009\u9879 ",(0,o.kt)("inlineCode",{parentName:"p"},"-v <path-to-keypair-file>")," \u4ec5\u4e0e\u6388\u6743\u8fd0\u8425\u65b9\u76f8\u5173\u3002\u5982\u679c\u60a8\u5c1a\u672a\u6ce8\u518c\u4e3a\u8fd0\u8425\u65b9\u6216\u8005\u5373\u5c06\u6210\u4e3a\u4e00\u540d\u8fd0\u8425\u65b9\uff0c\u5219\u65e0\u9700\u6307\u5b9a\u6b64\u9009\u9879\u3002")),(0,o.kt)("p",null,"This command line will automatically perform all the actions required to launch a Docker container and run a proxy.  "),(0,o.kt)("p",null,"\u6b64\u547d\u4ee4\u884c\u5c06\u81ea\u52a8\u6267\u884c\u542f\u52a8 Docker \u5bb9\u5668\u548c\u8fd0\u884c\u4ee3\u7406\u6240\u9700\u7684\u6240\u6709\u64cd\u4f5c\u3002"),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Example:",(0,o.kt)("br",{parentName:"em"}),"\u4e3e\u4f8b"),"\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ sudo docker run --rm -ti --network=host -e CONFIG=devnet -e POSTGRES_DB=neon-db -e POSTGRES_USER=neon-proxy -e POSTGRES_PASSWORD=neon-proxy-pass neonlabsorg/proxy:v0.5.1\n")),(0,o.kt)("h4",{id:"config-\u7684\u503cconfig-values"},"CONFIG \u7684\u503c(CONFIG values)"),(0,o.kt)("p",null,"Each ",(0,o.kt)("inlineCode",{parentName:"p"},"CONFIG")," value (devnet/testnet/local), by default, the corresponding variables are set:"),(0,o.kt)("p",null,"\u6bcf\u4e2a",(0,o.kt)("inlineCode",{parentName:"p"},"CONFIG"),"\u503c(devnet/testnet/local)\uff0c\u90fd\u6309\u9ed8\u8ba4\u503c\u8bbe\u7f6e\u5bf9\u5e94\u7684\u53d8\u91cf\uff1a"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"SOLANA_URL"),"  "),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"NEON_CLI_TIMEOUT"),"  "),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"CANCEL_TIMEOUT"),"  "),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"POSTGRES_HOST"),"  "),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"MINIMAL_GAS_PRICE"),"  "),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"EVM_LOADER"),"  "),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"NEON_TOKEN_MINT"),"  ")),(0,o.kt)("p",null,"When you start Docker, you can override all these parameters by specifying different values for them on the command line. The table below shows default values for the following variables:"),(0,o.kt)("p",null,"\u542f\u52a8 Docker \u65f6\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u5728\u547d\u4ee4\u884c\u4e0a\u4e3a\u5b83\u4eec\u6307\u5b9a\u4e0d\u540c\u7684\u503c\u6765\u8986\u76d6\u6240\u6709\u53c2\u6570\u3002\u4e0b\u8868\u663e\u793a\u4e86\u4ee5\u4e0b\u53d8\u91cf\u7684\u9ed8\u8ba4\u503c\uff1a"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:"left"},"\u914d\u7f6e CONFIG"),(0,o.kt)("th",{parentName:"tr",align:"left"},"SOLANA_URL"),(0,o.kt)("th",{parentName:"tr",align:"left"},"NEON_CLI_TIMEOUT"),(0,o.kt)("th",{parentName:"tr",align:"left"},"CANCEL_TIMEOUT"),(0,o.kt)("th",{parentName:"tr",align:"left"},"POSTGRES_HOST"),(0,o.kt)("th",{parentName:"tr",align:"left"},"MINIMAL_GAS_PRICE"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},"devnet"),(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"https://api.devnet.solana.com")),(0,o.kt)("td",{parentName:"tr",align:"left"},"10 (s)"),(0,o.kt)("td",{parentName:"tr",align:"left"},"60 (slot)"),(0,o.kt)("td",{parentName:"tr",align:"left"},"localhost"),(0,o.kt)("td",{parentName:"tr",align:"left"},"1")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},"testnet"),(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"https://api.testnet.solana.com")),(0,o.kt)("td",{parentName:"tr",align:"left"},"15 (s)"),(0,o.kt)("td",{parentName:"tr",align:"left"},"60 (slot)"),(0,o.kt)("td",{parentName:"tr",align:"left"},"localhost"),(0,o.kt)("td",{parentName:"tr",align:"left"},"1")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},"local"),(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"http://localhost:8899")),(0,o.kt)("td",{parentName:"tr",align:"left"},"0.9 (s)"),(0,o.kt)("td",{parentName:"tr",align:"left"},"10 (slot)"),(0,o.kt)("td",{parentName:"tr",align:"left"},"localhost"),(0,o.kt)("td",{parentName:"tr",align:"left"},"0")))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"SOLANA_URL")),(0,o.kt)("p",null,"Specifies a Solana RPC endpoint that a proxy is connecting to. If you specify ",(0,o.kt)("inlineCode",{parentName:"p"},"CONFIG=local")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"SOLANA_URL=<your node URL>"),", then requests of a proxy will be sent to your node."),(0,o.kt)("p",null,"\u6307\u5b9a\u4ee3\u7406\u8fde\u63a5\u5230\u7684 Solana RPC \u7aef\u70b9\u3002\u5982\u679c\u60a8\u6307\u5b9a ",(0,o.kt)("inlineCode",{parentName:"p"},"CONFIG=local")," \u548c ",(0,o.kt)("inlineCode",{parentName:"p"},"SOLANA_URL=<\u60a8\u7684\u8282\u70b9 URL>"),"\uff0c\u5219\u4ee3\u7406\u8bf7\u6c42\u5c06\u53d1\u9001\u5230\u60a8\u7684\u8282\u70b9\u3002"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"NEON_CLI_TIMEOUT")),(0,o.kt)("p",null,"In Neon EVM, a transaction is run for emulation before execution to determine the accounts that will be involved in it. The ",(0,o.kt)("inlineCode",{parentName:"p"},"NEON_CLI_TIMEOUT")," variable specifies the time (in seconds) required for a transaction to be executed."),(0,o.kt)("p",null,"\u5728 Neon EVM \u4e2d\uff0c\u5728\u6267\u884c\u4e4b\u524d\u4f1a\u8fd0\u884c\u4e00\u7b14\u6a21\u62df\u4ea4\u6613\u6765\u786e\u5b9a\u4ea4\u6613\u4f1a\u6d89\u53ca\u54ea\u4e9b\u8d26\u6237\u3002",(0,o.kt)("inlineCode",{parentName:"p"},"NEON_CLI_TIMEOUT")," \u53d8\u91cf\u6307\u5b9a\u6267\u884c\u4ea4\u6613\u6240\u9700\u7684\u65f6\u95f4(\u4ee5\u79d2\u4e3a\u5355\u4f4d)\u3002"),(0,o.kt)("p",null,"The emulation execution time is affected by the following factors:",(0,o.kt)("br",{parentName:"p"}),"\n","\u6a21\u62df\u6267\u884c\u7684\u65f6\u95f4\u53d7\u5230\u4ee5\u4e0b\u56e0\u7d20\u7684\u5f71\u54cd\uff1a"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"The geographical distance between a node and proxy.",(0,o.kt)("br",{parentName:"p"}),"\n","\u8282\u70b9\u548c\u4ee3\u7406\u4e4b\u95f4\u7684\u5730\u7406\u8ddd\u79bb\u3002")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"The load of the node due to processing requests at the moment.",(0,o.kt)("br",{parentName:"p"}),"\n","\u8282\u70b9\u5f53\u524d\u5904\u7406\u8bf7\u6c42\u7684\u8d1f\u8f7d\u3002"))),(0,o.kt)("p",null,"Setting the NEON_CLI_TIMEOUT time too short may not be sufficient to complete a transaction and pack it into a block. Therefore, NEON_CLI_TIMEOUT is set to the smallest value for CONFIG = local. Setting the NEON_CLI_TIMEOUT value too high may block other users from accessing this node."),(0,o.kt)("p",null,"\u5c06 ",(0,o.kt)("inlineCode",{parentName:"p"},"NEON_CLI_TIMEOUT")," \u65f6\u95f4\u8bbe\u7f6e\u5f97\u592a\u77ed\uff0c\u53ef\u80fd\u4f1a\u4e0d\u8db3\u4ee5\u5b8c\u6210\u4ea4\u6613\u5e76\u5c06\u5176\u6253\u5305\u5230\u4e00\u4e2a\u5757\u4e2d\u3002\u56e0\u6b64\uff0c",(0,o.kt)("inlineCode",{parentName:"p"},"NEON_CLI_TIMEOUT")," \u8bbe\u7f6e\u4e3a ",(0,o.kt)("inlineCode",{parentName:"p"},"CONFIG = local")," \u7684\u6700\u5c0f\u503c\u3002\u5c06 ",(0,o.kt)("inlineCode",{parentName:"p"},"NEON_CLI_TIMEOUT")," \u503c\u8bbe\u7f6e\u5f97\u592a\u9ad8\u53ef\u80fd\u4f1a\u963b\u6b62\u5176\u4ed6\u7528\u6237\u8bbf\u95ee\u6b64\u8282\u70b9\u3002"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"CANCEL_TIMEOUT")),(0,o.kt)("p",null,"This parameter limits the time (in slots) for blocking an account. If the blocking time for the account exceeds the time specified in this parameter, an attempt will be made to cancel the transaction that blocked this account."),(0,o.kt)("p",null,"\u6b64\u53c2\u6570\u9650\u5236\u5c01\u9501\u5e10\u6237\u7684\u65f6\u95f4(\u4ee5slots\u4e3a\u5355\u4f4d)\u3002\u5982\u679c\u8d26\u6237\u7684\u5c01\u9501\u65f6\u95f4\u8d85\u8fc7\u4e86\u6b64\u53c2\u6570\u4e2d\u6307\u5b9a\u7684\u65f6\u95f4\uff0c\u5c06\u5c1d\u8bd5\u53d6\u6d88\u5c01\u9501\u8be5\u8d26\u6237\u7684\u4ea4\u6613\u3002"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"MINIMAL_GAS_PRICE")),(0,o.kt)("p",null,"This parameter sets the lowest possible gas price specified in a transaction.",(0,o.kt)("br",{parentName:"p"}),"\n","\u6b64\u53c2\u6570\u8bbe\u7f6e\u4ea4\u6613\u4e2d\u6307\u5b9a\u7684\u6700\u4f4egas\u4ef7\u683c\u3002"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"EVM_LOADER")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"CONFIG")," defaults the following values for the variable ",(0,o.kt)("inlineCode",{parentName:"p"},"EVM_LOADER"),":",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"CONFIG")," \u53d8\u91cf\u7684 ",(0,o.kt)("inlineCode",{parentName:"p"},"EVM_LOADER")," \u7684\u9ed8\u8ba4\u503c\u5982\u4e0b\uff1a"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"CONFIG"),(0,o.kt)("th",{parentName:"tr",align:null},"EVM_LOADER"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"devnet"),(0,o.kt)("td",{parentName:"tr",align:null},"eeLSJgWzzxrqKv1UxtRVVH8FX3qCQWUs9QuAjJpETGU")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"testnet"),(0,o.kt)("td",{parentName:"tr",align:null},"eeLSJgWzzxrqKv1UxtRVVH8FX3qCQWUs9QuAjJpETGU")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"local"),(0,o.kt)("td",{parentName:"tr",align:null},"__")))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"NEON_TOKEN_MINT")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"CONFIG"),"\xa0defaults the following values for the variable\xa0:",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"CONFIG"),"\xa0\u53d8\u91cf\u7684 ",(0,o.kt)("inlineCode",{parentName:"p"},"NEON_TOKEN_MINT"),"\u7684\u9ed8\u8ba4\u503c\u5982\u4e0b\uff1a"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"CONFIG"),(0,o.kt)("th",{parentName:"tr",align:null},"NEON_TOKEN_MINT"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"devnet"),(0,o.kt)("td",{parentName:"tr",align:null},"89dre8rZjLNft7HoupGiyxu3MNftR577ZYu8bHe2kK7g")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"testnet"),(0,o.kt)("td",{parentName:"tr",align:null},"89dre8rZjLNft7HoupGiyxu3MNftR577ZYu8bHe2kK7g")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"local"),(0,o.kt)("td",{parentName:"tr",align:null},"HPsV9Deocecw3GeZv1FkAPNCBRfuVyfw9MMwjwRe1xaU")))))}d.isMDXComponent=!0}}]);